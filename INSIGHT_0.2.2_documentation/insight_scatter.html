<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>insight_scatter package &mdash; insight_scatter 0.2.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="insight_scatter.giwaxs_sim package" href="insight_scatter.giwaxs_sim.html" />
    <link rel="prev" title="insight_scatter" href="modules.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            insight_scatter
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">insight_scatter</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">insight_scatter package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="insight_scatter.giwaxs_sim.html">insight_scatter.giwaxs_sim package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-insight_scatter.batch">insight_scatter.batch module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.batch.Batch"><code class="docutils literal notranslate"><span class="pre">Batch</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-insight_scatter.chrono">insight_scatter.chrono module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.chrono.ChronoTool"><code class="docutils literal notranslate"><span class="pre">ChronoTool</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.chrono.ChronoToolWrapper"><code class="docutils literal notranslate"><span class="pre">ChronoToolWrapper</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-insight_scatter.cutsaxs">insight_scatter.cutsaxs module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.cutsaxs.CutSAXS"><code class="docutils literal notranslate"><span class="pre">CutSAXS</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-insight_scatter.cutwaxs">insight_scatter.cutwaxs module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.cutwaxs.CutWAXS"><code class="docutils literal notranslate"><span class="pre">CutWAXS</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-insight_scatter.fitcut">insight_scatter.fitcut module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.fitcut.FitCut"><code class="docutils literal notranslate"><span class="pre">FitCut</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-insight_scatter.geometrycalculations">insight_scatter.geometrycalculations module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.geometrycalculations.GeometryCalculations"><code class="docutils literal notranslate"><span class="pre">GeometryCalculations</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-insight_scatter.intensitycorrections">insight_scatter.intensitycorrections module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.intensitycorrections.IntensityCorrections"><code class="docutils literal notranslate"><span class="pre">IntensityCorrections</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-insight_scatter.nexusconverter">insight_scatter.nexusconverter module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.nexusconverter.NexusConverter"><code class="docutils literal notranslate"><span class="pre">NexusConverter</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.nexusconverter.dialogue_folder_module_selection"><code class="docutils literal notranslate"><span class="pre">dialogue_folder_module_selection()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-insight_scatter.params">insight_scatter.params module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.params.Params"><code class="docutils literal notranslate"><span class="pre">Params</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-insight_scatter.peakfinder">insight_scatter.peakfinder module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.peakfinder.PeakFinder"><code class="docutils literal notranslate"><span class="pre">PeakFinder</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-insight_scatter.singleimage">insight_scatter.singleimage module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.singleimage.SingleImage"><code class="docutils literal notranslate"><span class="pre">SingleImage</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-insight_scatter.staticfunctions">insight_scatter.staticfunctions module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.SLD_to_qc"><code class="docutils literal notranslate"><span class="pre">SLD_to_qc()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.afs_to_qz"><code class="docutils literal notranslate"><span class="pre">afs_to_qz()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.apply_gap_mask"><code class="docutils literal notranslate"><span class="pre">apply_gap_mask()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.binary_image"><code class="docutils literal notranslate"><span class="pre">binary_image()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.binning"><code class="docutils literal notranslate"><span class="pre">binning()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.binning_stats"><code class="docutils literal notranslate"><span class="pre">binning_stats()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.brute_filling"><code class="docutils literal notranslate"><span class="pre">brute_filling()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.calc_missing_wedge"><code class="docutils literal notranslate"><span class="pre">calc_missing_wedge()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.calc_missing_wedge_bottom"><code class="docutils literal notranslate"><span class="pre">calc_missing_wedge_bottom()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.calc_spec_beam_pos"><code class="docutils literal notranslate"><span class="pre">calc_spec_beam_pos()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.calculate_detectormask"><code class="docutils literal notranslate"><span class="pre">calculate_detectormask()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.construct_lambda_composite_from_single_modules"><code class="docutils literal notranslate"><span class="pre">construct_lambda_composite_from_single_modules()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.correct_sdd"><code class="docutils literal notranslate"><span class="pre">correct_sdd()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.criticalAngle"><code class="docutils literal notranslate"><span class="pre">criticalAngle()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.d_to_q"><code class="docutils literal notranslate"><span class="pre">d_to_q()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.eV_to_nm"><code class="docutils literal notranslate"><span class="pre">eV_to_nm()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.fast_binning"><code class="docutils literal notranslate"><span class="pre">fast_binning()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.fast_binning_chi_q"><code class="docutils literal notranslate"><span class="pre">fast_binning_chi_q()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.fill_masked_pixels"><code class="docutils literal notranslate"><span class="pre">fill_masked_pixels()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.find_gaps"><code class="docutils literal notranslate"><span class="pre">find_gaps()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.find_gaps_v2"><code class="docutils literal notranslate"><span class="pre">find_gaps_v2()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.fold"><code class="docutils literal notranslate"><span class="pre">fold()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.getGaussArray"><code class="docutils literal notranslate"><span class="pre">getGaussArray()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.getLorentz"><code class="docutils literal notranslate"><span class="pre">getLorentz()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.getQ"><code class="docutils literal notranslate"><span class="pre">getQ()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.getQz"><code class="docutils literal notranslate"><span class="pre">getQz()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.get_convex_hull"><code class="docutils literal notranslate"><span class="pre">get_convex_hull()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.get_golden_roatio"><code class="docutils literal notranslate"><span class="pre">get_golden_roatio()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.get_lmfitModel_1g"><code class="docutils literal notranslate"><span class="pre">get_lmfitModel_1g()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.get_lmfitModel_1l"><code class="docutils literal notranslate"><span class="pre">get_lmfitModel_1l()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.get_missing_1D_data_ranges"><code class="docutils literal notranslate"><span class="pre">get_missing_1D_data_ranges()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.get_outlier_pixel_mask"><code class="docutils literal notranslate"><span class="pre">get_outlier_pixel_mask()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.get_time_from_header"><code class="docutils literal notranslate"><span class="pre">get_time_from_header()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.get_version_info"><code class="docutils literal notranslate"><span class="pre">get_version_info()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.get_weights_poisson"><code class="docutils literal notranslate"><span class="pre">get_weights_poisson()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.graining"><code class="docutils literal notranslate"><span class="pre">graining()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.guess2params"><code class="docutils literal notranslate"><span class="pre">guess2params()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.hkl_format"><code class="docutils literal notranslate"><span class="pre">hkl_format()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.import_cakeCut"><code class="docutils literal notranslate"><span class="pre">import_cakeCut()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.import_tubeCut"><code class="docutils literal notranslate"><span class="pre">import_tubeCut()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.include_range"><code class="docutils literal notranslate"><span class="pre">include_range()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.include_range1D"><code class="docutils literal notranslate"><span class="pre">include_range1D()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.interpolation"><code class="docutils literal notranslate"><span class="pre">interpolation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.kernelling"><code class="docutils literal notranslate"><span class="pre">kernelling()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.lambda_composite2single_modules"><code class="docutils literal notranslate"><span class="pre">lambda_composite2single_modules()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.lmfit_simple_fit"><code class="docutils literal notranslate"><span class="pre">lmfit_simple_fit()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.load_aux_file"><code class="docutils literal notranslate"><span class="pre">load_aux_file()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.make_CutArray"><code class="docutils literal notranslate"><span class="pre">make_CutArray()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.make_hkl_string"><code class="docutils literal notranslate"><span class="pre">make_hkl_string()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.maps_plot_fast"><code class="docutils literal notranslate"><span class="pre">maps_plot_fast()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.mask_inner_data"><code class="docutils literal notranslate"><span class="pre">mask_inner_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.mask_nans"><code class="docutils literal notranslate"><span class="pre">mask_nans()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.mask_outer_data"><code class="docutils literal notranslate"><span class="pre">mask_outer_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.mirror_rot_array"><code class="docutils literal notranslate"><span class="pre">mirror_rot_array()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.nantozero1d"><code class="docutils literal notranslate"><span class="pre">nantozero1d()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.nantozero2d"><code class="docutils literal notranslate"><span class="pre">nantozero2d()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.nearest_neighbor_filling"><code class="docutils literal notranslate"><span class="pre">nearest_neighbor_filling()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.nm_to_eV"><code class="docutils literal notranslate"><span class="pre">nm_to_eV()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.overload"><code class="docutils literal notranslate"><span class="pre">overload()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.piecewise_binning"><code class="docutils literal notranslate"><span class="pre">piecewise_binning()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.plot_fit_components"><code class="docutils literal notranslate"><span class="pre">plot_fit_components()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.polish_bool_mask"><code class="docutils literal notranslate"><span class="pre">polish_bool_mask()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.print_licence"><code class="docutils literal notranslate"><span class="pre">print_licence()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.print_licence_short"><code class="docutils literal notranslate"><span class="pre">print_licence_short()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.q_to_2theta"><code class="docutils literal notranslate"><span class="pre">q_to_2theta()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.q_to_d"><code class="docutils literal notranslate"><span class="pre">q_to_d()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.qz_to_afs"><code class="docutils literal notranslate"><span class="pre">qz_to_afs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.rotate"><code class="docutils literal notranslate"><span class="pre">rotate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.save_fabio"><code class="docutils literal notranslate"><span class="pre">save_fabio()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.scherrer_domain_size"><code class="docutils literal notranslate"><span class="pre">scherrer_domain_size()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.set_plot_style"><code class="docutils literal notranslate"><span class="pre">set_plot_style()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.sld_to_ac"><code class="docutils literal notranslate"><span class="pre">sld_to_ac()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.smooth"><code class="docutils literal notranslate"><span class="pre">smooth()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.sort_natural"><code class="docutils literal notranslate"><span class="pre">sort_natural()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.sum_images"><code class="docutils literal notranslate"><span class="pre">sum_images()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.switch_energy_wavelength"><code class="docutils literal notranslate"><span class="pre">switch_energy_wavelength()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.truncated_gauss"><code class="docutils literal notranslate"><span class="pre">truncated_gauss()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.twotheta_to_d"><code class="docutils literal notranslate"><span class="pre">twotheta_to_d()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.twotheta_to_q"><code class="docutils literal notranslate"><span class="pre">twotheta_to_q()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.valtoval"><code class="docutils literal notranslate"><span class="pre">valtoval()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.zerotonan1d"><code class="docutils literal notranslate"><span class="pre">zerotonan1d()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.zerotonan2d"><code class="docutils literal notranslate"><span class="pre">zerotonan2d()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#insight_scatter.staticfunctions.zerotoval2d"><code class="docutils literal notranslate"><span class="pre">zerotoval2d()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-insight_scatter">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">insight_scatter</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">insight_scatter</a></li>
      <li class="breadcrumb-item active">insight_scatter package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/insight_scatter.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="insight-scatter-package">
<h1>insight_scatter package<a class="headerlink" href="#insight-scatter-package" title="Permalink to this heading"></a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="insight_scatter.giwaxs_sim.html">insight_scatter.giwaxs_sim package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="insight_scatter.giwaxs_sim.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="insight_scatter.giwaxs_sim.crystals.html">insight_scatter.giwaxs_sim.crystals package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="insight_scatter.giwaxs_sim.crystals.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="insight_scatter.giwaxs_sim.crystals.html#module-insight_scatter.giwaxs_sim.crystals.crystal">insight_scatter.giwaxs_sim.crystals.crystal module</a></li>
<li class="toctree-l4"><a class="reference internal" href="insight_scatter.giwaxs_sim.crystals.html#module-insight_scatter.giwaxs_sim.crystals.cubic">insight_scatter.giwaxs_sim.crystals.cubic module</a></li>
<li class="toctree-l4"><a class="reference internal" href="insight_scatter.giwaxs_sim.crystals.html#module-insight_scatter.giwaxs_sim.crystals.hexagonal">insight_scatter.giwaxs_sim.crystals.hexagonal module</a></li>
<li class="toctree-l4"><a class="reference internal" href="insight_scatter.giwaxs_sim.crystals.html#module-insight_scatter.giwaxs_sim.crystals.monoclinic">insight_scatter.giwaxs_sim.crystals.monoclinic module</a></li>
<li class="toctree-l4"><a class="reference internal" href="insight_scatter.giwaxs_sim.crystals.html#module-insight_scatter.giwaxs_sim.crystals.orthorhombic">insight_scatter.giwaxs_sim.crystals.orthorhombic module</a></li>
<li class="toctree-l4"><a class="reference internal" href="insight_scatter.giwaxs_sim.crystals.html#module-insight_scatter.giwaxs_sim.crystals.reflection_condition">insight_scatter.giwaxs_sim.crystals.reflection_condition module</a></li>
<li class="toctree-l4"><a class="reference internal" href="insight_scatter.giwaxs_sim.crystals.html#module-insight_scatter.giwaxs_sim.crystals.tetragonal">insight_scatter.giwaxs_sim.crystals.tetragonal module</a></li>
<li class="toctree-l4"><a class="reference internal" href="insight_scatter.giwaxs_sim.crystals.html#module-insight_scatter.giwaxs_sim.crystals.triclinic">insight_scatter.giwaxs_sim.crystals.triclinic module</a></li>
<li class="toctree-l4"><a class="reference internal" href="insight_scatter.giwaxs_sim.crystals.html#module-insight_scatter.giwaxs_sim.crystals.trigonal">insight_scatter.giwaxs_sim.crystals.trigonal module</a></li>
<li class="toctree-l4"><a class="reference internal" href="insight_scatter.giwaxs_sim.crystals.html#module-insight_scatter.giwaxs_sim.crystals">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="insight_scatter.giwaxs_sim.util.html">insight_scatter.giwaxs_sim.util package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="insight_scatter.giwaxs_sim.util.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="insight_scatter.giwaxs_sim.util.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="insight_scatter.giwaxs_sim.util.html#module-insight_scatter.giwaxs_sim.util.io">insight_scatter.giwaxs_sim.util.io module</a></li>
<li class="toctree-l4"><a class="reference internal" href="insight_scatter.giwaxs_sim.util.html#module-insight_scatter.giwaxs_sim.util.plotter">insight_scatter.giwaxs_sim.util.plotter module</a></li>
<li class="toctree-l4"><a class="reference internal" href="insight_scatter.giwaxs_sim.util.html#module-insight_scatter.giwaxs_sim.util">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="insight_scatter.giwaxs_sim.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="insight_scatter.giwaxs_sim.html#module-insight_scatter.giwaxs_sim.generator">insight_scatter.giwaxs_sim.generator module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="insight_scatter.giwaxs_sim.html#insight_scatter.giwaxs_sim.generator.calc_q_data"><code class="docutils literal notranslate"><span class="pre">calc_q_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="insight_scatter.giwaxs_sim.html#insight_scatter.giwaxs_sim.generator.combine_q_data"><code class="docutils literal notranslate"><span class="pre">combine_q_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="insight_scatter.giwaxs_sim.html#insight_scatter.giwaxs_sim.generator.generate_q_intensity_map"><code class="docutils literal notranslate"><span class="pre">generate_q_intensity_map()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="insight_scatter.giwaxs_sim.html#module-insight_scatter.giwaxs_sim.probability_distributions">insight_scatter.giwaxs_sim.probability_distributions module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="insight_scatter.giwaxs_sim.html#insight_scatter.giwaxs_sim.probability_distributions.DummyDist"><code class="docutils literal notranslate"><span class="pre">DummyDist</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="insight_scatter.giwaxs_sim.html#insight_scatter.giwaxs_sim.probability_distributions.DummyDist.sample"><code class="docutils literal notranslate"><span class="pre">DummyDist.sample()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="insight_scatter.giwaxs_sim.html#insight_scatter.giwaxs_sim.probability_distributions.NormalDist"><code class="docutils literal notranslate"><span class="pre">NormalDist</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="insight_scatter.giwaxs_sim.html#insight_scatter.giwaxs_sim.probability_distributions.NormalDist.sample"><code class="docutils literal notranslate"><span class="pre">NormalDist.sample()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="insight_scatter.giwaxs_sim.html#insight_scatter.giwaxs_sim.probability_distributions.ProbabilityDistribution"><code class="docutils literal notranslate"><span class="pre">ProbabilityDistribution</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="insight_scatter.giwaxs_sim.html#insight_scatter.giwaxs_sim.probability_distributions.ProbabilityDistribution.sample"><code class="docutils literal notranslate"><span class="pre">ProbabilityDistribution.sample()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="insight_scatter.giwaxs_sim.html#module-insight_scatter.giwaxs_sim.sim">insight_scatter.giwaxs_sim.sim module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="insight_scatter.giwaxs_sim.html#insight_scatter.giwaxs_sim.sim.plot_imap"><code class="docutils literal notranslate"><span class="pre">plot_imap()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="insight_scatter.giwaxs_sim.html#insight_scatter.giwaxs_sim.sim.simulate_giwaxs"><code class="docutils literal notranslate"><span class="pre">simulate_giwaxs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="insight_scatter.giwaxs_sim.html#module-insight_scatter.giwaxs_sim.sim_params">insight_scatter.giwaxs_sim.sim_params module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="insight_scatter.giwaxs_sim.html#insight_scatter.giwaxs_sim.sim_params.SimParams"><code class="docutils literal notranslate"><span class="pre">SimParams</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="insight_scatter.giwaxs_sim.html#module-insight_scatter.giwaxs_sim">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
</section>
<section id="module-insight_scatter.batch">
<span id="insight-scatter-batch-module"></span><h2>insight_scatter.batch module<a class="headerlink" href="#module-insight_scatter.batch" title="Permalink to this heading"></a></h2>
<p>(alpha-release: Not fully operational yet! Use with care.)</p>
<p>This class enables batch processing of large image quantities.
It contains methods to specify cuts and fits. This class handles the processing of
multiple SinlgeImage instances in batch-mode.</p>
<dl class="py class">
<dt class="sig sig-object py" id="insight_scatter.batch.Batch">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">insight_scatter.batch.</span></span><span class="sig-name descname"><span class="pre">Batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">export_folder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_path_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.batch.Batch" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Initializes Batch.
This class enables batch processing of large image quantities.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>export_folder</strong> (<em>path</em>) – export folder</p></li>
<li><p><strong>raw_path_list</strong> (<em>list</em>) – image path list</p></li>
<li><p><strong>params</strong> (<a class="reference internal" href="#insight_scatter.params.Params" title="insight_scatter.params.Params"><em>Params</em></a>) – parameters for reshaping as a Params object</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.batch.Batch.activate_liveplotting">
<span class="sig-name descname"><span class="pre">activate_liveplotting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pretty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qr_qz_lims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.batch.Batch.activate_liveplotting" title="Permalink to this definition"></a></dt>
<dd><p>Activates liveplotting. (alpha-phase)
This assumes the geometry and intensity corrections are computed for each image
(i.e. were defined in the processing code). If not, expect crashes or odd behaviour.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interval</strong> (<em>int</em><em>, </em><em>optional</em>) – interval in milliseconds between plot updates</p></li>
<li><p><strong>buffer_size</strong> (<em>int</em><em>, </em><em>optional</em>) – maximum number of images to keep in memory for subsequent plotting
a good default value is the same value as <cite>max_concurrent</cite></p></li>
<li><p><strong>pretty</strong> (<em>bool</em>) – replace NaN pixels with neighbor average to remove them for plotting</p></li>
<li><p><strong>qr_qz_lims</strong> (<em>list/tuple</em><em>, </em><em>optional</em>) – plot limits (qr_min, qr_max, qz_min, qz_max), all limits must be provided</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.batch.Batch.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_concurrent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.batch.Batch.run" title="Permalink to this definition"></a></dt>
<dd><p>Runs batch processing on the whole batch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>max_concurrent</strong> (<em>int</em><em>, </em><em>optional</em>) – maximum number of active workers in parallel</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.batch.Batch.set_processing_code">
<span class="sig-name descname"><span class="pre">set_processing_code</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">processing_code</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.batch.Batch.set_processing_code" title="Permalink to this definition"></a></dt>
<dd><p>Sets processing code for each image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>processing_code</strong> (<em>string</em>) – <p>Python code to be executed for each image
CAUTION! Be aware that <em>arbitrary</em> code can and will be executed
since this functionality relies on Python’s <cite>exec</cite> function.
Each image (SingleImage instance) has to be represented by <cite>csi</cite>.
As <cite>calculate_geometry</cite> is bypassed, there is no support for kwargs for this function.
Separate tasks by newlines.
A cleanup task is automatically added to the end of the processing.
.. rubric:: Example</p>
<p>processing_code = ‘’’
csi.delete_hot_pixels()
csi.calculate_geometry()
csi.calculate_corrected_intensity()
‘’’</p>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-insight_scatter.chrono">
<span id="insight-scatter-chrono-module"></span><h2>insight_scatter.chrono module<a class="headerlink" href="#module-insight_scatter.chrono" title="Permalink to this heading"></a></h2>
<p>Module to manage time execution utilities.</p>
<dl class="py class">
<dt class="sig sig-object py" id="insight_scatter.chrono.ChronoTool">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">insight_scatter.chrono.</span></span><span class="sig-name descname"><span class="pre">ChronoTool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_image_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boost</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.chrono.ChronoTool" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.chrono.ChronoTool.debug">
<span class="sig-name descname"><span class="pre">debug</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.chrono.ChronoTool.debug" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.chrono.ChronoTool.flush">
<span class="sig-name descname"><span class="pre">flush</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.chrono.ChronoTool.flush" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.chrono.ChronoTool.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.chrono.ChronoTool.format" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.chrono.ChronoTool.log">
<span class="sig-name descname"><span class="pre">log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.chrono.ChronoTool.log" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.chrono.ChronoTool.normalize">
<span class="sig-name descname"><span class="pre">normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.chrono.ChronoTool.normalize" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="insight_scatter.chrono.ChronoToolWrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">insight_scatter.chrono.</span></span><span class="sig-name descname"><span class="pre">ChronoToolWrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.chrono.ChronoToolWrapper" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#insight_scatter.chrono.ChronoTool" title="insight_scatter.chrono.ChronoTool"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChronoTool</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.chrono.ChronoToolWrapper.debug">
<span class="sig-name descname"><span class="pre">debug</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.chrono.ChronoToolWrapper.debug" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.chrono.ChronoToolWrapper.flush">
<span class="sig-name descname"><span class="pre">flush</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.chrono.ChronoToolWrapper.flush" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.chrono.ChronoToolWrapper.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.chrono.ChronoToolWrapper.format" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.chrono.ChronoToolWrapper.log">
<span class="sig-name descname"><span class="pre">log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.chrono.ChronoToolWrapper.log" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.chrono.ChronoToolWrapper.normalize">
<span class="sig-name descname"><span class="pre">normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.chrono.ChronoToolWrapper.normalize" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-insight_scatter.cutsaxs">
<span id="insight-scatter-cutsaxs-module"></span><h2>insight_scatter.cutsaxs module<a class="headerlink" href="#module-insight_scatter.cutsaxs" title="Permalink to this heading"></a></h2>
<p>This class provides methods for making SAXS cuts.</p>
<dl class="py class">
<dt class="sig sig-object py" id="insight_scatter.cutsaxs.CutSAXS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">insight_scatter.cutsaxs.</span></span><span class="sig-name descname"><span class="pre">CutSAXS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qyarr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qrarr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qzarr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intensity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qy_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qy_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut_space</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'qy'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.cutsaxs.CutSAXS" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Initializes CutSAXS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>string</em>) – name of cut</p></li>
<li><p><strong>qrarr</strong> (<em>array</em>) – q_r array</p></li>
<li><p><strong>qyarr</strong> (<em>array</em>) – q_y array</p></li>
<li><p><strong>qzarr</strong> (<em>array</em>) – q_z array</p></li>
<li><p><strong>intensity</strong> (<em>array</em>) – intensity array</p></li>
<li><p><strong>qy_min</strong> (<em>float</em>) – cut limit in qy (or qr space, depending on cut_space)</p></li>
<li><p><strong>qy_max</strong> (<em>float</em>) – cut limit in qy (or qr space, depending on cut_space)</p></li>
<li><p><strong>qz_min</strong> (<em>float</em>) – cut limit</p></li>
<li><p><strong>qz_max</strong> (<em>float</em>) – cut limit</p></li>
<li><p><strong>along</strong> (<em>str</em>) – ‘q’ or ‘chi”</p></li>
<li><p><strong>geo</strong> (<em>insight.geo object</em>) – </p></li>
<li><p><strong>cut_space</strong> (<em>string</em>) – ‘qy’ (default) or ‘qr’, defines space where the cut takes place</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.cutsaxs.CutSAXS.bin_cut">
<span class="sig-name descname"><span class="pre">bin_cut</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thres_delta_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0001</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.cutsaxs.CutSAXS.bin_cut" title="Permalink to this definition"></a></dt>
<dd><p>Grains saxs data. Uses graining function from staticfunctions. Look there for details.
Binned data is stored in the class object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) – dataframe that contains qy,qz,I columns (minimum)</p></li>
<li><p><strong>along</strong> (<em>string</em>) – ‘qy’, ‘qr’ or ‘qz’</p></li>
<li><p><strong>thres_delta_x</strong> (<em>float</em>) – a delta q threshold that set’s the detection limit for the graining function</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.cutsaxs.CutSAXS.clear_plot">
<span class="sig-name descname"><span class="pre">clear_plot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.cutsaxs.CutSAXS.clear_plot" title="Permalink to this definition"></a></dt>
<dd><p>Clears and closes cut_figure and sets instance variables to their default None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.cutsaxs.CutSAXS.exec_cut">
<span class="sig-name descname"><span class="pre">exec_cut</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.cutsaxs.CutSAXS.exec_cut" title="Permalink to this definition"></a></dt>
<dd><p>Create a SAXS cut (horizontal or vertical rectangle shape).
The name and cut-limit constraints in qy and qz dimension define the cut.</p>
<p>It extracts all datapoints from the qy qz maps with nonzero intensity and fulfilling the desired limits.</p>
<p>Note: q values in inverse angstrom.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dataframe with columns ‘qy’, ‘qz’, ‘chi’, ‘q’, ‘I’</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.cutsaxs.CutSAXS.guess_along_saxs">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">guess_along_saxs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.cutsaxs.CutSAXS.guess_along_saxs" title="Permalink to this definition"></a></dt>
<dd><p>Checks horizontal and vertical data range to decide if it is a horizontal or vertical cut.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> (<em>pandas.DataFrame</em>) – Dataframe of unbinned cut data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Along (str) that is either ‘qy’ or ‘qz’</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.cutsaxs.CutSAXS.plot_grained">
<span class="sig-name descname"><span class="pre">plot_grained</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thres_delta_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'black'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'nm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.cutsaxs.CutSAXS.plot_grained" title="Permalink to this definition"></a></dt>
<dd><p>Plots grained cut. Grained with graining function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>along</strong> (<em>string</em>) – ‘qy’, ‘qr’ or ‘qz’</p></li>
<li><p><strong>thres_delta_x</strong> – Threshold, see graining function for details</p></li>
<li><p><strong>color</strong> (<em>color-string</em>) – matplotlib color</p></li>
<li><p><strong>unit</strong> (<em>string</em>) – angstrom or nm, default is nm for GISAXS</p></li>
<li><p><strong>errors</strong> – if the binning errors shall be used</p></li>
<li><p><strong>show</strong> (<em>bool</em>) – Show plot immediately.</p></li>
<li><p><strong>folder_path</strong> (<em>string</em>) – Folder output path.</p></li>
<li><p><strong>fname</strong> (<em>string</em>) – Output filename.</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – keyword arguments to pass to the plot function</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.cutsaxs.CutSAXS.plot_raw">
<span class="sig-name descname"><span class="pre">plot_raw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#6666ff'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'nm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.cutsaxs.CutSAXS.plot_raw" title="Permalink to this definition"></a></dt>
<dd><p>Plots raw (unbinned) cut.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>along</strong> (<em>string</em>) – ‘qy’, ‘qr’ or ‘qz’</p></li>
<li><p><strong>color</strong> (<em>color-string</em>) – matplotlib color</p></li>
<li><p><strong>show</strong> (<em>bool</em>) – Show plot immediately.</p></li>
<li><p><strong>unit</strong> (<em>string</em>) – nm or angstrom, for GISAXS default is nm</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – keyword arguments to pass to the plot function</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.cutsaxs.CutSAXS.print_cut_angles">
<span class="sig-name descname"><span class="pre">print_cut_angles</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.cutsaxs.CutSAXS.print_cut_angles" title="Permalink to this definition"></a></dt>
<dd><p>Calculate and print angular cut limits of the given q cut limits.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-insight_scatter.cutwaxs">
<span id="insight-scatter-cutwaxs-module"></span><h2>insight_scatter.cutwaxs module<a class="headerlink" href="#module-insight_scatter.cutwaxs" title="Permalink to this heading"></a></h2>
<p>This class provides methods for making azimuthal tube and radial cake GIWAXS cuts.</p>
<dl class="py class">
<dt class="sig sig-object py" id="insight_scatter.cutwaxs.CutWAXS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">insight_scatter.cutwaxs.</span></span><span class="sig-name descname"><span class="pre">CutWAXS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qrarr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qzarr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intensity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chi_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chi_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qr_center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz_center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rm_gap_infl_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.cutwaxs.CutWAXS" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Initializes CutWAXS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>string</em>) – name of cut</p></li>
<li><p><strong>qrarr</strong> (<em>array</em>) – q_r map</p></li>
<li><p><strong>qzarr</strong> (<em>array</em>) – q_z map</p></li>
<li><p><strong>intensity</strong> (<em>array</em>) – intensity map</p></li>
<li><p><strong>q_min</strong> (<em>float</em>) – cut limit</p></li>
<li><p><strong>q_max</strong> (<em>float</em>) – cut limit</p></li>
<li><p><strong>chi_min</strong> (<em>float</em>) – cut limit</p></li>
<li><p><strong>chi_max</strong> (<em>float</em>) – cut limit</p></li>
<li><p><strong>qr_center</strong> (<em>float</em>) – make cut around this point</p></li>
<li><p><strong>qz_center</strong> (<em>float</em>) – make cut around this point</p></li>
<li><p><strong>rm_gap_infl_dir</strong> (<em>str</em>) – ‘q’, ‘chi’ or None. Removes the influence of detector gap by masking data</p></li>
<li><p><strong>gap</strong> (<em>points near the</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.cutwaxs.CutWAXS.bin_cut">
<span class="sig-name descname"><span class="pre">bin_cut</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rm_bin_infl_mw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.cutwaxs.CutWAXS.bin_cut" title="Permalink to this definition"></a></dt>
<dd><p>Bins 1D cut data. Uses binning function from staticfunctions. Look there for details.
Binned data is stored in the class object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>along</strong> (<em>string</em>) – ‘q’ or ‘chi’</p></li>
<li><p><strong>n</strong> (<em>int</em>) – number of bins</p></li>
<li><p><strong>rm_bin_infl_mw</strong> (<em>bool</em>) – removes the influence of the gaps by masking close data-points</p></li>
<li><p><strong>bin_range</strong> (<em>tuple</em>) – binning range</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.cutwaxs.CutWAXS.clear_plot">
<span class="sig-name descname"><span class="pre">clear_plot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.cutwaxs.CutWAXS.clear_plot" title="Permalink to this definition"></a></dt>
<dd><p>Clears and closes cut_figure and sets instance variables to their default None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.cutwaxs.CutWAXS.exec_cut">
<span class="sig-name descname"><span class="pre">exec_cut</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.cutwaxs.CutWAXS.exec_cut" title="Permalink to this definition"></a></dt>
<dd><p>Create a WAXS cut. The name and cut-limit constraints in q or chi dimension define the cut.</p>
<p>It extracts all datapoints from the qr qz maps with nonzero intensity and fulfilling the desired q-chi limits.
if only q or chi limits are given, it performs a tube cut or cake cut, respectively.</p>
<p>IMPORTANT NOTE: Executing the cut around a center that is not in the q-origin, q values will be shifted compared
to the original map with direct beam in the origin. Accordingly, this influences chi values. This is an effect
independent of correct reshaping, but is related to the ‘true’ q-origin of created WAXS scattering.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dataframe with columns ‘qr’, ‘qz’, ‘chi’, ‘q’, ‘I’</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.cutwaxs.CutWAXS.find_peak_position">
<span class="sig-name descname"><span class="pre">find_peak_position</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_binned</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.cutwaxs.CutWAXS.find_peak_position" title="Permalink to this definition"></a></dt>
<dd><p>Finds the position of the fitted peak. A Gaussian Model is used with a constant as background. Uses lmfit.
It allows for custom defined model and model parameters created by the lmfit package. Center_name provides the
name of the parameter that is taken for correcting the sdd (usually the fitted center value of the chosen
profile). For more help on how to create a lmfit model and lmfit model parameters see the lmfit documentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – lmfit model object</p></li>
<li><p><strong>parameters</strong> – lmfit parameters object</p></li>
<li><p><strong>center_name</strong> (<em>str</em>) – name of the parameter name that provides the center value of the fitted peak (depends</p></li>
<li><p><strong>model</strong><strong>)</strong> (<em>on your</em>) – </p></li>
<li><p><strong>use_binned</strong> (<em>bool</em>) – use binned data if available</p></li>
<li><p><strong>weights</strong> – if “poisson” weighting should be used or unweighted least-squares</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Center value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.cutwaxs.CutWAXS.guess_along_waxs">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">guess_along_waxs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.cutwaxs.CutWAXS.guess_along_waxs" title="Permalink to this definition"></a></dt>
<dd><p>Checks horizontal and vertical data range to decide if it is a pizza or sausage cut
:param df: cut dataframe with the unbinned data
:param factor: a custom factor to bring chi and q units together for decision. larger factor favors q direction</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Along (str) that is either ‘q’ or ‘chi’</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.cutwaxs.CutWAXS.optimize_tube_cut_q_limits">
<span class="sig-name descname"><span class="pre">optimize_tube_cut_q_limits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigmas</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_binned</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_error_percent_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.cutwaxs.CutWAXS.optimize_tube_cut_q_limits" title="Permalink to this definition"></a></dt>
<dd><p>Optimizes the tube cut limits by fitting the radial cut and determining the center and
width of the Bragg reflex. Then sets the new limits accordingly.</p>
<p>Note: If no custom lmfit model is provided the standard model will be used containing a Gaussian profile
and a constant background. It uses staticfunctions.get_lmfitModel_1g().</p>
<p>If the sigma_error_percent_threshold is passed in the case of a bad fit result the fit results will not be used
as new cut limits. The center will be the average of q_min and q_max provided in the cut and the 2 sigma value
will be 68.27% of the cut width (estimating the cut was around 2 Gaussian sigmas in width).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigmas</strong> (<em>float</em>) – optimized cut width in sigmas</p></li>
<li><p><strong>plot</strong> (<em>bool</em>) – plot fit</p></li>
<li><p><strong>model</strong> (<em>lmfit.model</em>) – lmfit model object</p></li>
<li><p><strong>parameters</strong> (<em>lmfit.params</em>) – lmfit parameters object</p></li>
<li><p><strong>center_name</strong> (<em>string</em>) – lfmit parameter name of center value of interest</p></li>
<li><p><strong>sigma_name</strong> (<em>string</em>) – Name</p></li>
<li><p><strong>weights</strong> (<em>string</em>) – lmfit weights string</p></li>
<li><p><strong>use_binned</strong> (<em>bool</em>) – Use binned data.</p></li>
<li><p><strong>sigma_error_percent_threshold</strong> (<em>float</em>) – Specify a percentage for the maximum allowed sigma error.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.cutwaxs.CutWAXS.plot_bg_corrected">
<span class="sig-name descname"><span class="pre">plot_bg_corrected</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'black'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.cutwaxs.CutWAXS.plot_bg_corrected" title="Permalink to this definition"></a></dt>
<dd><p>Plots binned cut data. If data are not binned previously, it is doing automatic binning calling bin_cut function
with default parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>color</strong> (<em>str</em>) – matplotlib color</p></li>
<li><p><strong>y_min</strong> (<em>float</em>) – plot y-min</p></li>
<li><p><strong>y_max</strong> (<em>float</em>) – plot y-max</p></li>
<li><p><strong>label</strong> (<em>str</em>) – set line label in plot</p></li>
<li><p><strong>export_folder</strong> (<em>path</em>) – path for plot export</p></li>
<li><p><strong>show</strong> (<em>bool</em>) – show plot</p></li>
<li><p><strong>errors</strong> (<em>bool</em>) – if desired to plot binning std errors</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.cutwaxs.CutWAXS.plot_binned">
<span class="sig-name descname"><span class="pre">plot_binned</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'black'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.cutwaxs.CutWAXS.plot_binned" title="Permalink to this definition"></a></dt>
<dd><p>Plots binned cut data. If data are not binned previously, it is doing automatic binning calling bin_cut function
with default parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>along</strong> (<em>str</em>) – ‘q’ or ‘chi’</p></li>
<li><p><strong>color</strong> (<em>str</em>) – matplotlib color</p></li>
<li><p><strong>y_min</strong> (<em>float</em>) – plot y-min</p></li>
<li><p><strong>y_max</strong> (<em>float</em>) – plot y-max</p></li>
<li><p><strong>x_min</strong> (<em>float</em>) – plot x-min</p></li>
<li><p><strong>x_max</strong> (<em>float</em>) – plot x-max</p></li>
<li><p><strong>label</strong> (<em>str</em>) – set line label in plot</p></li>
<li><p><strong>export_folder</strong> (<em>path</em>) – path for plot export</p></li>
<li><p><strong>show</strong> (<em>bool</em>) – show plot</p></li>
<li><p><strong>errors</strong> (<em>bool</em>) – if desired to plot binning std errors</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – keyword arguments to pass to the plot function (plt.plot or plt.errorbar if errors=True)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.cutwaxs.CutWAXS.plot_raw">
<span class="sig-name descname"><span class="pre">plot_raw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#6666ff'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.cutwaxs.CutWAXS.plot_raw" title="Permalink to this definition"></a></dt>
<dd><p>Plots raw cut data. This will plot ALL pixels that fall into the specified cut. Sorting happens along specified
along variable that is assigned to _plot_type attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>along</strong> (<em>str</em>) – ‘q’ or ‘chi’</p></li>
<li><p><strong>color</strong> (<em>str</em>) – matplotlib color</p></li>
<li><p><strong>y_min</strong> (<em>float</em>) – plot y-min</p></li>
<li><p><strong>y_max</strong> (<em>float</em>) – plot y-max</p></li>
<li><p><strong>show</strong> (<em>bool</em>) – show plot</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – keyword arguments to pass to the plot function</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.cutwaxs.CutWAXS.subtract_local_background">
<span class="sig-name descname"><span class="pre">subtract_local_background</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigmas</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annuli_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">180</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chi_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(-90,</span> <span class="pre">90)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.cutwaxs.CutWAXS.subtract_local_background" title="Permalink to this definition"></a></dt>
<dd><p>Subtracts the local background from a tube cut. This is done by doing an additional tube cuts inside and one
outside the tube cut of interest. Then an average value of the two additional cuts is calculated and
subtracted from the cut of interest. This must be done on an grid that is specified with n, chi_range and is the
same for all the three cuts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigmas</strong> (<em>float</em>) – set distance of additional cuts in units of sigma. The distance is from central reflex</p></li>
<li><p><strong>annulus</strong> (<em>center to INNER border</em><em> of </em><em>outer annulus and from central reflex to OUTER border</em><em> of </em><em>inner</em>) – </p></li>
<li><p><strong>annuli_width</strong> (<em>float</em>) – set total width of additional cuts in units of sigma</p></li>
<li><p><strong>n</strong> (<em>int</em>) – number of bins</p></li>
<li><p><strong>chi_range</strong> (<em>tuple</em>) – chi range of tube cut</p></li>
<li><p><strong>plot</strong> (<em>bool</em>) – Show plot immediately.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-insight_scatter.fitcut">
<span id="insight-scatter-fitcut-module"></span><h2>insight_scatter.fitcut module<a class="headerlink" href="#module-insight_scatter.fitcut" title="Permalink to this heading"></a></h2>
<p>Multipurpose fitting class tube and radial cuts with the fit-package lmfit.</p>
<dl class="py class">
<dt class="sig sig-object py" id="insight_scatter.fitcut.FitCut">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">insight_scatter.fitcut.</span></span><span class="sig-name descname"><span class="pre">FitCut</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Cut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fit_tuple</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fit_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[-90,</span> <span class="pre">90]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fit_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'least_squares'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prnt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">array</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.fitcut.FitCut" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Initializes FitCut.</p>
<p>The easiest way to make fits is to use the lmfit package (which has great documentation) and give this
init-function an lmfit-params object and an lmfit-model object.</p>
<p>Flexible fitting by creating a fit of variable polynomial degree, hyperbolic degree
and a variable number of gaussians, lorentzians or voigts for a line cut.</p>
<ul class="simple">
<li><p><em>FitCut</em> reads the fit_range and the params in single fit mode (and creates lmfit parameters and counters).</p></li>
<li><p>If used in a loop it reads fit_tuple and gets lmfit params and counters.</p></li>
<li><p>The parameters handed over as a
list are formatted first into 4-tuples (name, val, min, max), and subsequently to a lmfit Parameters object.</p></li>
<li><p>The Data is constrained to the desired range and fitted with a model corresponding to the counters.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – The directory where all cut data files are loaded</p></li>
<li><p><strong>params</strong> (<em>list</em><em> or </em><em>tuple</em><em> or </em><em>lmfit.Parameters</em>) – Manually given Input parameters or lmfit input parameters(used when</p></li>
<li><p><strong>file</strong><strong>)</strong> (<em>fitting a single</em>) – </p></li>
<li><p><strong>signature</strong> (<em>if manually given of</em>) – </p></li>
<li><p><strong>fit_tuple</strong> (<em>tuple</em><em> of </em><em>(</em><em>lmfit.Parameters</em><em> or </em><em>np.ndarray</em><em>)</em>) – tuple with lmfit parameters and fit component counters (nested). Used for time evolution. It is</p></li>
<li><p><strong>CutEvolution</strong> (<em>handed over from</em>) – </p></li>
<li><p><strong>fit_range</strong> (<em>list</em><em> or </em><em>tuple</em>) – Range to be fitted</p></li>
<li><p><strong>fit_method</strong> (<em>str</em>) – optimization method for the initial fit in each region passed to lmfit</p></li>
<li><p><strong>weights</strong> (<em>str</em>) – if “poisson” weighting should be used or unweighted least-squares</p></li>
<li><p><strong>prnt</strong> (<em>bool</em>) – Trigger for printing output to console</p></li>
<li><p><strong>plot</strong> (<em>bool</em>) – Trigger for plotting</p></li>
<li><p><strong>block</strong> (<em>bool</em>) – stop script while showing plot</p></li>
<li><p><strong>save_plot</strong> (<em>bool</em>) – bool for saving plot, if False just plotting</p></li>
<li><p><strong>array</strong> (<em>ndarray</em>) – cut data in x,y array. If specified, <em>FitCut</em> will read and process the array data</p></li>
<li><p><strong>model</strong> (<em>lmfit object</em>) – lmfit model object</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.fitcut.FitCut.allparam_setup">
<span class="sig-name descname"><span class="pre">allparam_setup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paramlist</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.fitcut.FitCut.allparam_setup" title="Permalink to this definition"></a></dt>
<dd><p>Creates lmfit fitting parameters out of given parameters (including counter setup)
counter and params cannot be initialized separately since they depend on each other.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.fitcut.FitCut.catch_param_input">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">catch_param_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.fitcut.FitCut.catch_param_input" title="Permalink to this definition"></a></dt>
<dd><p>Completes the flexible parameter input to give it an arbitrary start value and limits
the different typical cases are:
- just provide parameter name -&gt; complete by using arbitrary start value and free limits
- provide parameter name and starting value -&gt; complete free limits
- provide full tuple (w/ none possible) -&gt; do nothing
then check if None is at value position and replace it with a number to avoid fit abortion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>params</strong> (<em>list</em><em> of </em><em>tuples</em><em> or </em><em>list</em><em> of </em><em>str</em>) – input parameter list from main</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>input parameter list with completed list and entries</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>paramlist (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.fitcut.FitCut.hyperbola">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hyperbola</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.fitcut.FitCut.hyperbola" title="Permalink to this definition"></a></dt>
<dd><p>Defines a hyperbolic function of selected degrees (int)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.fitcut.FitCut.load_counters">
<span class="sig-name descname"><span class="pre">load_counters</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.fitcut.FitCut.load_counters" title="Permalink to this definition"></a></dt>
<dd><p>Loads counters from lmfit parameterfile, setups counters for the parameters of the
different peak functions</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.fitcut.FitCut.make_params">
<span class="sig-name descname"><span class="pre">make_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lmparams_counters</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.fitcut.FitCut.make_params" title="Permalink to this definition"></a></dt>
<dd><p>Check params and fit_tuple and create lmfit params and model counters of it.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.fitcut.FitCut.plot_init_and_final_fit">
<span class="sig-name descname"><span class="pre">plot_init_and_final_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.fitcut.FitCut.plot_init_and_final_fit" title="Permalink to this definition"></a></dt>
<dd><p>Creates a plot with data and initial fit, data and final fit (showing components) and residuum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>save_plot</strong> – bool if saving is desired (default False, then just showing plot)</p></li>
<li><p><strong>block</strong> – bool if script stops</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.fitcut.FitCut.polynomial">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">polynomial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.fitcut.FitCut.polynomial" title="Permalink to this definition"></a></dt>
<dd><p>Defines a polynomial of selected degrees (int) (lmfit only provides ALL degrees up to max degrees).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.fitcut.FitCut.range_include">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">range_include</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitrange</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.fitcut.FitCut.range_include" title="Permalink to this definition"></a></dt>
<dd><p>Includes a desired range a to b (in x-axis, angle) from data by masking the outside.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – x-axis data (chi or q typically)</p></li>
<li><p><strong>fitrange</strong> – list/tuple of the form [a,b]</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>masked data, only the inner portion
the mask used</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.fitcut.FitCut.setup_model_components">
<span class="sig-name descname"><span class="pre">setup_model_components</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.fitcut.FitCut.setup_model_components" title="Permalink to this definition"></a></dt>
<dd><p>Derives the lmfit model out of the lmfit params by checking the param prefixes and counters
distinguishes between: P (polynomial) H (hyperbole) G (gauss) L (lorentz) and V (voigt).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>lmfit model including all single components</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-insight_scatter.geometrycalculations">
<span id="insight-scatter-geometrycalculations-module"></span><h2>insight_scatter.geometrycalculations module<a class="headerlink" href="#module-insight_scatter.geometrycalculations" title="Permalink to this heading"></a></h2>
<p>GeometryCalculations transforms the real-space detector image to q-space.</p>
<dl class="py class">
<dt class="sig sig-object py" id="insight_scatter.geometrycalculations.GeometryCalculations">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">insight_scatter.geometrycalculations.</span></span><span class="sig-name descname"><span class="pre">GeometryCalculations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sdd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inca</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">px_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">det_rot_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">det_rot_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">det_rot_z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boost</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.geometrycalculations.GeometryCalculations" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Initializes GeometryCalculations.</p>
<p>Sets up geometry of detector including rotation and translation, calculate real-space angles, and do the q-space
transformation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>im_shape</strong> (<em>tuple</em>) – Shape of the detector image.</p></li>
<li><p><strong>db_x</strong> (<em>float</em>) – direct beam x-value.</p></li>
<li><p><strong>db_y</strong> (<em>float</em>) – direct beam y-value</p></li>
<li><p><strong>sdd</strong> (<em>float</em>) – Sample-to-detector-distance in mm.</p></li>
<li><p><strong>inca</strong> (<em>float</em>) – Incidend angle in degree.</p></li>
<li><p><strong>px_size</strong> (<em>float</em>) – Detector pixel size in mm. Quadratic pixels are assumed.</p></li>
<li><p><strong>wl</strong> (<em>float</em>) – Wavelength in Angstrom.</p></li>
<li><p><strong>det_rot_x</strong> – Rotation around the x-axis (along beam) in degree.</p></li>
<li><p><strong>det_rot_y</strong> – Rotation around the y-axis (perpendicular to beam, horizontal) in degree.</p></li>
<li><p><strong>det_rot_z</strong> – Rotation around the z-axis (perpendicular to beam, vertical) in degree.</p></li>
<li><p><strong>boost</strong> (<em>int</em>) – Boosting method
0: default implementation (single-threaded, no optimizations)
1: upgraded single-threaded (several optimizations)
2: builds upon <cite>boost=1</cite> and adds multi-threaded execution based on <cite>numexpr</cite> library</p></li>
<li><p><strong>tool</strong> (<a class="reference internal" href="#insight_scatter.chrono.ChronoTool" title="insight_scatter.chrono.ChronoTool"><em>ChronoTool</em></a>) – Tool to time execution utilities</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – log timings to console</p></li>
<li><p><strong>**kwargs</strong> – kwargs</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.geometrycalculations.GeometryCalculations.main">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.geometrycalculations.GeometryCalculations.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.geometrycalculations.GeometryCalculations.plot_geo_map">
<span class="sig-name descname"><span class="pre">plot_geo_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">map_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'qr'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'inferno'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.geometrycalculations.GeometryCalculations.plot_geo_map" title="Permalink to this definition"></a></dt>
<dd><p>Plots geometrical map (calculated array) specified by map_key.</p>
<p>Possible map_key strings: chi, qr, qx, qy, qz, beta, a_dk, phi, a_fs, x, y, z</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>map_key</strong> (<em>str</em>) – specifies map to plot (see possible keys above)</p></li>
<li><p><strong>vmin</strong> (<em>float</em><em>, </em><em>optional</em>) – colormap minimum</p></li>
<li><p><strong>vmax</strong> (<em>float</em><em>, </em><em>optional</em>) – colormap maximum</p></li>
<li><p><strong>cmap</strong> (<em>str</em>) – matplotlib colormap (default: ‘inferno’)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.geometrycalculations.GeometryCalculations.plot_geo_map_all">
<span class="sig-name descname"><span class="pre">plot_geo_map_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'inferno'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.geometrycalculations.GeometryCalculations.plot_geo_map_all" title="Permalink to this definition"></a></dt>
<dd><p>Plots all geometrical maps. See details in documentation for plot_geo_map()</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.geometrycalculations.GeometryCalculations.plot_geometry_3d">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">plot_geometry_3d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sdd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">im</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spec_intersect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertical_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizontal_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.geometrycalculations.GeometryCalculations.plot_geometry_3d" title="Permalink to this definition"></a></dt>
<dd><p>Plots scattering geometry.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.geometrycalculations.GeometryCalculations.qr_chi_calc">
<span class="sig-name descname"><span class="pre">qr_chi_calc</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.geometrycalculations.GeometryCalculations.qr_chi_calc" title="Permalink to this definition"></a></dt>
<dd><p>Calculate qr and chi , the angle between qr and qz from qx, qy, and qz arrays.
calculate  q_r = sqrt(q_x**2 + q_y**2). qr-values calculated from negative q_y get a positive sign, qr-values
with qy=0 become a positive sign.
Calculates polar angle chi in q-space in degrees: Angle between qr and qz. chi is defined to be 0 along qz axis
for qr=0 and increasing for clockwise rotation (total range from -180 to +180 degrees).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>q_r map
chi: chi map</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>qr</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.geometrycalculations.GeometryCalculations.qr_chi_calc_numexpr">
<span class="sig-name descname"><span class="pre">qr_chi_calc_numexpr</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.geometrycalculations.GeometryCalculations.qr_chi_calc_numexpr" title="Permalink to this definition"></a></dt>
<dd><p>Calculate qr and chi , the angle between qr and qz from qx, qy, and qz arrays.
calculate  q_r = sqrt(q_x**2 + q_y**2). qr-values calculated from negative q_y get a positive sign, qr-values
with qy=0 become a positive sign.
Calculates polar angle chi in q-space in degrees: Angle between qr and qz. chi is defined to be 0 along qz axis
for qr=0 and increasing for clockwise rotation (total range from -180 to +180 degrees).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>q_r map
chi: chi map</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>qr</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.geometrycalculations.GeometryCalculations.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">only_basic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'save.txt'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.geometrycalculations.GeometryCalculations.save" title="Permalink to this definition"></a></dt>
<dd><p>Saves maps to files. It has the option save all calculated maps (be careful, large data amounts might be
written to disk) or only save q_r and q_z maps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>only_basic</strong> (<em>bool</em>) – saves only q_r and q_z map</p></li>
<li><p><strong>folder_path</strong> (<em>path</em>) – export folder</p></li>
<li><p><strong>suffix</strong> (<em>str</em>) – name suffix for exported maps</p></li>
<li><p><strong>dict_name</strong> (<em>str</em>) – name for the exported geometry dictionary (containing reshaping parameters)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.geometrycalculations.GeometryCalculations.save_dict">
<span class="sig-name descname"><span class="pre">save_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">folder_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.geometrycalculations.GeometryCalculations.save_dict" title="Permalink to this definition"></a></dt>
<dd><p>Saves dictionary with results of geometry calculations as json file to folder_path.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.geometrycalculations.GeometryCalculations.save_map">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">save_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">folder_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">map</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filetype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'tif'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.geometrycalculations.GeometryCalculations.save_map" title="Permalink to this definition"></a></dt>
<dd><p>Saves the specified map (2d array) as tif to folder_path.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-insight_scatter.intensitycorrections">
<span id="insight-scatter-intensitycorrections-module"></span><h2>insight_scatter.intensitycorrections module<a class="headerlink" href="#module-insight_scatter.intensitycorrections" title="Permalink to this heading"></a></h2>
<p>This class handles all intensity corrections: angular sensitivity, solid angle, air attenuation, polarization correction
and a user defined arbitrary correction map. It calculates the respective maps and stores them as class attributes.</p>
<dl class="py class">
<dt class="sig sig-object py" id="insight_scatter.intensitycorrections.IntensityCorrections">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">insight_scatter.intensitycorrections.</span></span><span class="sig-name descname"><span class="pre">IntensityCorrections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">intensity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">air_attenuation_coeff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">si_attenuation_coeff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">det_thickness</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizontal_polarization_fraction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_corr_fact</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_area</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boost</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.intensitycorrections.IntensityCorrections" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Initializes IntensityCorrection.</p>
<p>This class handles all intensity corrections: angular sensitivity, solid angle, air attenuation,
polarization correction and a user defined arbitrary correction map.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>intensity</strong> (<em>array</em>) – image intensity array</p></li>
<li><p><strong>geometry</strong> (<em>GeometryCalculation</em>) – geometry to use</p></li>
<li><p><strong>air_attenuation_coeff</strong> (<em>float</em>) – air attenuation coefficient</p></li>
<li><p><strong>si_attenuation_coeff</strong> (<em>float</em>) – silicon attenuation coefficient</p></li>
<li><p><strong>det_thickness</strong> (<em>float</em>) – detector thickness</p></li>
<li><p><strong>horizontal_polarization_fraction</strong> (<em>float</em>) – horizontal polarization fraction. Set to ‘None’ for unpolarized light (e.g. lab source).</p></li>
<li><p><strong>user_corr_fact</strong> (<em>array</em>) – arbitrary user defined correction factor map. Must have same dimension as image intensity array.</p></li>
<li><p><strong>pixel_area</strong> (<em>float</em>) – area of detector pixel in um^2</p></li>
<li><p><strong>boost</strong> (<em>int</em>) – Boosting method
0: default implementation (single-threaded, no optimizations)
1: upgraded single-threaded (several optimizations)
2: builds upon <cite>boost=1</cite> and adds multi-threaded execution based on <cite>numexpr</cite> library</p></li>
<li><p><strong>tool</strong> (<a class="reference internal" href="#insight_scatter.chrono.ChronoTool" title="insight_scatter.chrono.ChronoTool"><em>ChronoTool</em></a>) – Tool to time execution utilities</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – log timings to console</p></li>
<li><p><strong>**kwargs</strong> – kwargs</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.intensitycorrections.IntensityCorrections.air_attenuation_correction">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">air_attenuation_correction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">air_attenuation_coefficient</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.intensitycorrections.IntensityCorrections.air_attenuation_correction" title="Permalink to this definition"></a></dt>
<dd><p>Calculates air mass attenuation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>air_attenuation_coefficient</strong> – mass attenuation coefficient, in 1/mm</p></li>
<li><p><strong>spd</strong> – sample to detector-pixel distance</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Correction factor array to multiply with the intensity array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.intensitycorrections.IntensityCorrections.air_attenuation_correction_boosted">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">air_attenuation_correction_boosted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">air_attenuation_coefficient</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.intensitycorrections.IntensityCorrections.air_attenuation_correction_boosted" title="Permalink to this definition"></a></dt>
<dd><p>Calculates air mass attenuation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>air_attenuation_coefficient</strong> – mass attenuation coefficient, in 1/mm</p></li>
<li><p><strong>spd</strong> – sample to detector-pixel distance</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Correction factor array to multiply with the intensity array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.intensitycorrections.IntensityCorrections.air_attenuation_correction_numexpr">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">air_attenuation_correction_numexpr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">air_attenuation_coefficient</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.intensitycorrections.IntensityCorrections.air_attenuation_correction_numexpr" title="Permalink to this definition"></a></dt>
<dd><p>Calculates air mass attenuation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>air_attenuation_coefficient</strong> – mass attenuation coefficient, in 1/mm</p></li>
<li><p><strong>spd</strong> – sample to detector-pixel distance</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Correction factor array to multiply with the intensity array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.intensitycorrections.IntensityCorrections.angular_pixel_sensitivity_correction">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">angular_pixel_sensitivity_correction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">beta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">si_attenuation_coeff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">det_thickness</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.intensitycorrections.IntensityCorrections.angular_pixel_sensitivity_correction" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the angular dependent detector sensitivity correction factor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>beta</strong> (<em>float</em>) – incident angle in rad, relative to the detector plane surface direction</p></li>
<li><p><strong>si_attenuation_coeff</strong> – attenuation coefficient of detector material in 1/mm</p></li>
<li><p><strong>det_thickness</strong> – thickness of detector absorber in mm</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Angular intensity correction factor for each detector pixel. To multiply with the intensity array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.intensitycorrections.IntensityCorrections.angular_pixel_sensitivity_correction_boosted">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">angular_pixel_sensitivity_correction_boosted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">si_attenuation_coeff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">det_thickness</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.intensitycorrections.IntensityCorrections.angular_pixel_sensitivity_correction_boosted" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the angular dependent detector sensitivity correction factor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>geo</strong> (<em>geo object</em>) – insight geometry object</p></li>
<li><p><strong>si_attenuation_coeff</strong> – attenuation coefficient of detector material in 1/mm</p></li>
<li><p><strong>det_thickness</strong> – thickness of detector absorber in mm</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Angular intensity correction factor for each detector pixel. To multiply with the intensity array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.intensitycorrections.IntensityCorrections.angular_pixel_sensitivity_correction_numexpr">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">angular_pixel_sensitivity_correction_numexpr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">si_attenuation_coeff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">det_thickness</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.intensitycorrections.IntensityCorrections.angular_pixel_sensitivity_correction_numexpr" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the angular dependent detector sensitivity correction factor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>geo</strong> (<em>geo object</em>) – insight geometry object</p></li>
<li><p><strong>si_attenuation_coeff</strong> – attenuation coefficient of detector material in 1/mm</p></li>
<li><p><strong>det_thickness</strong> – thickness of detector absorber in mm</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Angular intensity correction factor for each detector pixel. To multiply with the intensity array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.intensitycorrections.IntensityCorrections.main">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.intensitycorrections.IntensityCorrections.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.intensitycorrections.IntensityCorrections.plot_corr_map">
<span class="sig-name descname"><span class="pre">plot_corr_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">map_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'qr'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'inferno'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.intensitycorrections.IntensityCorrections.plot_corr_map" title="Permalink to this definition"></a></dt>
<dd><p>Plots intensity correction maps (calculated array) specified by map_key.</p>
<dl class="simple">
<dt>Possible map_key strings:</dt><dd><p>angular_sensitivity_correction_factor
solid_angle_correction_factor
air_attenuation_correction_factor
polarization_correction_factor
total_correction_factor</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>map_key</strong> (<em>str</em>) – specifies map to plot (see possible keys above)</p></li>
<li><p><strong>vmin</strong> (<em>float</em><em>, </em><em>optional</em>) – colormap minimum</p></li>
<li><p><strong>vmax</strong> (<em>float</em><em>, </em><em>optional</em>) – colormap maximum</p></li>
<li><p><strong>cmap</strong> (<em>str</em>) – matplotlib colormap (default: ‘inferno’)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.intensitycorrections.IntensityCorrections.plot_corr_map_all">
<span class="sig-name descname"><span class="pre">plot_corr_map_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'inferno'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.intensitycorrections.IntensityCorrections.plot_corr_map_all" title="Permalink to this definition"></a></dt>
<dd><p>Plots all correction maps. See more details in the plot_corr_map() documentation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.intensitycorrections.IntensityCorrections.polarization_correction">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">polarization_correction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a_dk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polarization_fraction</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.intensitycorrections.IntensityCorrections.polarization_correction" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the polarization correction pixelwise for given polarization fraction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>polarization_fraction</strong> – the fraction of horizontal polarization of incident beam [0,1].</p></li>
<li><p><strong>'None'</strong> (<em>If</em>) – </p></li>
<li><p><strong>1.</strong> (<em>the correction return is</em>) – </p></li>
<li><p><strong>a_dk</strong> – array of the out of plane real space coordinate system xz plane angle in rad.</p></li>
<li><p><strong>phi</strong> – array of the in plane real space coordinate system xy plane angle in rad.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Array with pixelwise polarization correction (intensity to multiply with this return to obtain corrected intensity).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.intensitycorrections.IntensityCorrections.polarization_correction_boosted">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">polarization_correction_boosted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a_dk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polarization_fraction</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.intensitycorrections.IntensityCorrections.polarization_correction_boosted" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the polarization correction pixelwise for given polarization fraction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>polarization_fraction</strong> – the fraction of horizontal polarization of incident beam [0,1].</p></li>
<li><p><strong>'None'</strong> (<em>If</em>) – </p></li>
<li><p><strong>1.</strong> (<em>the correction return is</em>) – </p></li>
<li><p><strong>a_dk</strong> – array of the out of plane real space coordinate system xz plane angle in rad.</p></li>
<li><p><strong>phi</strong> – array of the in plane real space coordinate system xy plane angle in rad.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Array with pixelwise polarization correction (intensity to multiply with this return to obtain corrected intensity).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.intensitycorrections.IntensityCorrections.polarization_correction_numexpr">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">polarization_correction_numexpr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a_dk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polarization_fraction</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.intensitycorrections.IntensityCorrections.polarization_correction_numexpr" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the polarization correction pixelwise for given polarization fraction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>polarization_fraction</strong> – the fraction of horizontal polarization of incident beam [0,1].</p></li>
<li><p><strong>'None'</strong> (<em>If</em>) – </p></li>
<li><p><strong>1.</strong> (<em>the correction return is</em>) – </p></li>
<li><p><strong>a_dk</strong> – array of the out of plane real space coordinate system xz plane angle in rad.</p></li>
<li><p><strong>phi</strong> – array of the in plane real space coordinate system xy plane angle in rad.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Array with pixelwise polarization correction (intensity to multiply with this return to obtain corrected intensity).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.intensitycorrections.IntensityCorrections.solid_angle_correction">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">solid_angle_correction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_area</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.intensitycorrections.IntensityCorrections.solid_angle_correction" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the solid angle of each pixel as seen from the sample position. The solid angle of each pixel is
proportional to the received flux, which needs to be corrected. The solid angle scales as the inverse square
sample pixel distance and the effective pixel area, which scales with the angle between signal vector and
the pixel surface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>geo</strong> (<em>geo object</em>) – insight geometry object</p></li>
<li><p><strong>pixel_area</strong> (<em>float</em>) – Optional, area scale factor</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Correction factor array to multiply with the intensity array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.intensitycorrections.IntensityCorrections.solid_angle_correction_boosted">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">solid_angle_correction_boosted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_area</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.intensitycorrections.IntensityCorrections.solid_angle_correction_boosted" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the solid angle of each pixel as seen from the sample position. The solid angle of each pixel is
proportional to the received flux, which needs to be corrected. The solid angle scales as the inverse square
sample pixel distance and the effective pixel area, which scales with the angle between signal vector and
the pixel surface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>geo</strong> (<em>geo object</em>) – insight geometry object</p></li>
<li><p><strong>pixel_area</strong> (<em>float</em>) – Optional, area scale factor</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Correction factor array to multiply with the intensity array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.intensitycorrections.IntensityCorrections.solid_angle_correction_numexpr">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">solid_angle_correction_numexpr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_area</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.intensitycorrections.IntensityCorrections.solid_angle_correction_numexpr" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the solid angle of each pixel as seen from the sample position. The solid angle of each pixel is
proportional to the received flux, which needs to be corrected. The solid angle scales as the inverse square
sample pixel distance and the effective pixel area, which scales with the angle between signal vector and
the pixel surface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>geo</strong> (<em>geo object</em>) – insight geometry object</p></li>
<li><p><strong>pixel_area</strong> (<em>float</em>) – Optional, area scale factor</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Correction factor array to multiply with the intensity array.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-insight_scatter.nexusconverter">
<span id="insight-scatter-nexusconverter-module"></span><h2>insight_scatter.nexusconverter module<a class="headerlink" href="#module-insight_scatter.nexusconverter" title="Permalink to this heading"></a></h2>
<p>Converts .nxs files to .cbf image files using the fabio package.
Read .nxs files, arrange the modules, and save the file as cbf</p>
<dl class="py class">
<dt class="sig sig-object py" id="insight_scatter.nexusconverter.NexusConverter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">insight_scatter.nexusconverter.</span></span><span class="sig-name descname"><span class="pre">NexusConverter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excluded_module_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img_slice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">slice(None,</span> <span class="pre">None,</span> <span class="pre">None)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.nexusconverter.NexusConverter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>In the init no image is created. This is done either by calling conversion2cbf to save the images or by calling
construct_image which returns the image. Read .nxs files, arrange the modules, and save the file as cbf.</p>
<p>Important notice: This module is written for Lambda 9M (X-Spectrum) detector files generated at the P03
beamline at DESY and might not work with other detector files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_path</strong> (<em>str</em>) – path to a single nexus file</p></li>
<li><p><strong>output_path</strong> (<em>str</em>) – folder path where all converted cbfs are stored</p></li>
<li><p><strong>excluded_module_list</strong> (<em>list</em>) – optional list of modules to exclude from processing</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.nexusconverter.NexusConverter.construct_image">
<span class="sig-name descname"><span class="pre">construct_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_number</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.nexusconverter.NexusConverter.construct_image" title="Permalink to this definition"></a></dt>
<dd><p>Constructs a large cbf image and places the single modules inside at the translated positions.
Note: For flatfields, image number MUST be 0</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>image_number</strong> (<em>int</em>) – The current image number processed; in a single module container can be multiple images</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the constructed image as int32 type</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>im (array)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.nexusconverter.NexusConverter.export2cbf">
<span class="sig-name descname"><span class="pre">export2cbf</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.nexusconverter.NexusConverter.export2cbf" title="Permalink to this definition"></a></dt>
<dd><p>Converts nxs files into cbf files.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.nexusconverter.dialogue_folder_module_selection">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.nexusconverter.</span></span><span class="sig-name descname"><span class="pre">dialogue_folder_module_selection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.nexusconverter.dialogue_folder_module_selection" title="Permalink to this definition"></a></dt>
<dd><p>Opens up GUI for folder selection.</p>
</dd></dl>

</section>
<section id="module-insight_scatter.params">
<span id="insight-scatter-params-module"></span><h2>insight_scatter.params module<a class="headerlink" href="#module-insight_scatter.params" title="Permalink to this heading"></a></h2>
<p>The Params class handles the parameters that are used for reshaping and intensity corrections and provides to other
classes.</p>
<dl class="py class">
<dt class="sig sig-object py" id="insight_scatter.params.Params">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">insight_scatter.params.</span></span><span class="sig-name descname"><span class="pre">Params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'='</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Initializes Params. Either from filepath or from params_dict directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<em>path</em>) – Path to txt file containing all necessary parameters.</p></li>
<li><p><strong>params_dict</strong> (<em>dict</em>) – Dictionary of params values.</p></li>
<li><p><strong>sep</strong> (<em>str</em>) – Seperator in txt file provided with filepath. Default is ‘=’.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.essential_params">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">essential_params</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.essential_params" title="Permalink to this definition"></a></dt>
<dd><p>Lists all ESSENTIAL params without values. These parameters MUST be defined.
Use the Params.set_param() commands to set the parameters or provide a fully defined parameter text file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.fill">
<span class="sig-name descname"><span class="pre">fill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.fill" title="Permalink to this definition"></a></dt>
<dd><p>Fills up all parameters to a list of length that have the legnth 1. This is necessary for batch processing if
parameters change with image number. If length is set to -1 then the maximum is chosen so all params will have
the same length.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.get_essential_params_keys">
<span class="sig-name descname"><span class="pre">get_essential_params_keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.get_essential_params_keys" title="Permalink to this definition"></a></dt>
<dd><p>Returns list of essential parameter names</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.get_params">
<span class="sig-name descname"><span class="pre">get_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.get_params" title="Permalink to this definition"></a></dt>
<dd><p>Returns all essential params as dict and does optional check if all essential parameters are given.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.get_single_dict">
<span class="sig-name descname"><span class="pre">get_single_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.get_single_dict" title="Permalink to this definition"></a></dt>
<dd><p>Creates a new parameter dictionary of the n-th image. Used for batch processing.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.main">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.params_import">
<span class="sig-name descname"><span class="pre">params_import</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.params_import" title="Permalink to this definition"></a></dt>
<dd><p>Imports parameter from txt file. Gets called by init.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.print_params">
<span class="sig-name descname"><span class="pre">print_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.print_params" title="Permalink to this definition"></a></dt>
<dd><p>Prints all parameter keys.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.set_air_attenuation_coeff">
<span class="sig-name descname"><span class="pre">set_air_attenuation_coeff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.set_air_attenuation_coeff" title="Permalink to this definition"></a></dt>
<dd><p>Sets the air attenuation coefficient for intensity correction calculation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.set_db_x">
<span class="sig-name descname"><span class="pre">set_db_x</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.set_db_x" title="Permalink to this definition"></a></dt>
<dd><p>Sets direct beam x pixel value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.set_db_y">
<span class="sig-name descname"><span class="pre">set_db_y</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.set_db_y" title="Permalink to this definition"></a></dt>
<dd><p>Sets direct beam y pixel value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.set_det_rot_x">
<span class="sig-name descname"><span class="pre">set_det_rot_x</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.set_det_rot_x" title="Permalink to this definition"></a></dt>
<dd><p>Sets detector rotation around the x-axis in degree. The x-axis points along the direct beam.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.set_det_rot_y">
<span class="sig-name descname"><span class="pre">set_det_rot_y</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.set_det_rot_y" title="Permalink to this definition"></a></dt>
<dd><p>Sets detector rotation around the y-axis in degree.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.set_det_rot_z">
<span class="sig-name descname"><span class="pre">set_det_rot_z</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.set_det_rot_z" title="Permalink to this definition"></a></dt>
<dd><p>Sets detector rotation around the z-axis in degree.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.set_det_thickness">
<span class="sig-name descname"><span class="pre">set_det_thickness</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.set_det_thickness" title="Permalink to this definition"></a></dt>
<dd><p>Sets detector thickness for intensity correction calculation in mm.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.set_energy">
<span class="sig-name descname"><span class="pre">set_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.set_energy" title="Permalink to this definition"></a></dt>
<dd><p>Sets energy in keV. This will overwrite the wavelength attribute by converting to Angstrom.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.set_horizontal_polarization_fraction">
<span class="sig-name descname"><span class="pre">set_horizontal_polarization_fraction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.set_horizontal_polarization_fraction" title="Permalink to this definition"></a></dt>
<dd><p>Sets horizontal polarization fraction. For 100% horizontal polarization set to 1, For 100% vertical
polarization set to 0. For no polarization correction set to -1 or None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.set_inca">
<span class="sig-name descname"><span class="pre">set_inca</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.set_inca" title="Permalink to this definition"></a></dt>
<dd><p>Sets incident angle in degree.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.set_px_size">
<span class="sig-name descname"><span class="pre">set_px_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.set_px_size" title="Permalink to this definition"></a></dt>
<dd><p>Sets pixel size in mm.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.set_sdd">
<span class="sig-name descname"><span class="pre">set_sdd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.set_sdd" title="Permalink to this definition"></a></dt>
<dd><p>Sets sample-to-detector distance in mm.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.set_si_attenuation_coeff">
<span class="sig-name descname"><span class="pre">set_si_attenuation_coeff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.set_si_attenuation_coeff" title="Permalink to this definition"></a></dt>
<dd><p>Sets the silicon attenuation coefficient for intensity correction calculation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.set_spec_x_y">
<span class="sig-name descname"><span class="pre">set_spec_x_y</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.set_spec_x_y" title="Permalink to this definition"></a></dt>
<dd><p>Sets specular beam x and y pixel location. This will automatically calculate a detector rotation around
the x-axis. Assuming an orthogonal detector wrt direct beam! Use db and spec beam coordinates to
calculate det_rot_x. Give coordinates in length or pixel and return det_rot_x in degrees.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.params.Params.set_wl">
<span class="sig-name descname"><span class="pre">set_wl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.params.Params.set_wl" title="Permalink to this definition"></a></dt>
<dd><p>Sets wavelength in Angstrom. As an alternative you can use Params.set_energy() to set the energy in keV.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-insight_scatter.peakfinder">
<span id="insight-scatter-peakfinder-module"></span><h2>insight_scatter.peakfinder module<a class="headerlink" href="#module-insight_scatter.peakfinder" title="Permalink to this heading"></a></h2>
<p>PeakFinder lets you interactively adjust peaks to easily derive starting parameters for subsequent fitting.</p>
<dl class="py class">
<dt class="sig sig-object py" id="insight_scatter.peakfinder.PeakFinder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">insight_scatter.peakfinder.</span></span><span class="sig-name descname"><span class="pre">PeakFinder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.peakfinder.PeakFinder" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Initializes PeakFinder.</p>
<p>self.guess contains all the peaks in the end after closing the window</p>
<p>Inspired by dataphile:
<a class="reference external" href="https://www.reddit.com/r/Python/comments/bnkmsc/majorly_improved_on_the_interactive_curve_fitter/">https://www.reddit.com/r/Python/comments/bnkmsc/majorly_improved_on_the_interactive_curve_fitter/</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>list</em>) – x values</p></li>
<li><p><strong>y</strong> (<em>list</em>) – y values</p></li>
<li><p><strong>block</strong> – block show in plt.show()</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-insight_scatter.singleimage">
<span id="insight-scatter-singleimage-module"></span><h2>insight_scatter.singleimage module<a class="headerlink" href="#module-insight_scatter.singleimage" title="Permalink to this heading"></a></h2>
<p>The SingleImage class handles a single image and all related calculations and makes the results easily available.</p>
<p>Always start with this class by loading an image that you want to work on.</p>
<p>This class connects to other INSIGHT modules (e.g. GeometryCalculations for transformation to q-space, or
IntensityCorrections).</p>
<p>In this sense it is the central class of INSIGHT.</p>
<dl class="py class">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">insight_scatter.singleimage.</span></span><span class="sig-name descname"><span class="pre">SingleImage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ReshapeParams</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_image_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_image_array</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose_load</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Initializes SingleImage.</p>
<p>This loads a raw image and the corresponding reshaping parameters.</p>
<p>A provided raw_image_array supersedes a provided raw_image_path. Set raw_image_array to None if you
want to load an image from a path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ReshapeParams</strong> – Provide a Params object created with the params-class.</p></li>
<li><p><strong>raw_image_path</strong> (<em>path</em>) – Path to the raw detector image.</p></li>
<li><p><strong>raw_image_array</strong> (<em>array</em>) – Path to a raw image array. Default None.</p></li>
<li><p><strong>verbose_load</strong> (<em>bool</em>) – Whether to log out info upon loading. Default True.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.add_reshape_params">
<span class="sig-name descname"><span class="pre">add_reshape_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params_obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.add_reshape_params" title="Permalink to this definition"></a></dt>
<dd><p>Adds a params class instance to the single image class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.apply_flatfield">
<span class="sig-name descname"><span class="pre">apply_flatfield</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.apply_flatfield" title="Permalink to this definition"></a></dt>
<dd><p>Applies user defined flat-field correction to image.
Apply this after rotations of your GIXS image.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.apply_gap_mask">
<span class="sig-name descname"><span class="pre">apply_gap_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gap_array</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.apply_gap_mask" title="Permalink to this definition"></a></dt>
<dd><p>Applies provided array as gap mask. Only arrays can be passed to this function.
You can use the load_*_mask_file() function collection in staticfunctions to load a tif/cbf (or similiar) image.
Be careful that dimensions of mask and image match and the orientation is same.
Apply this after rotations of your GIXS image.</p>
<p>Gaps must have the value 1.</p>
<p>Applied masks/flatfields can be plotted by using SingleImage.plot_gap_mask, SingleImage.plot_flatfield,
SingleImage.plot_pixel_mask()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>gap_array</strong> (<em>array</em>) – array of gap mask, must match shape of raw_image_array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.apply_pixel_mask">
<span class="sig-name descname"><span class="pre">apply_pixel_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask_array</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.apply_pixel_mask" title="Permalink to this definition"></a></dt>
<dd><p>Applies provided array as pixel mask. Only arrays can be passed to this function.
You can use the load_*_mask_file() function collection in staticfunctions to load a tif/cbf (or similiar) image.
Be careful that dimensions of mask and image match and the orientation is same.
Apply this after rotations of your GIXS image.</p>
<p>Masked pixels must have the value ‘mask_value’.</p>
<p>Applied masks/flatfields can be plotted by using SingleImage.plot_gap_mask, SingleImage.plot_flatfield,
SingleImage.plot_pixel_mask()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mask_array</strong> (<em>array</em>) – Mask array, must match shape of raw_image_array.</p></li>
<li><p><strong>mask_value</strong> (<em>int</em>) – If the image/array has this value the corresponding pixel will be masked.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.calculate_corrected_intensity">
<span class="sig-name descname"><span class="pre">calculate_corrected_intensity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_corr_fact</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intensity_corrected</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boost</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.calculate_corrected_intensity" title="Permalink to this definition"></a></dt>
<dd><p>Does intensity corrections.</p>
<p>Corrections include angular sensitivity, solid angle, air attenuation, polarization and a user defined correction factor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user_corr_fact</strong> (<em>array</em>) – user defined correction factor, pixel-wise, same dimension as image</p></li>
<li><p><strong>intensity_corrected</strong> (<em>array</em>) – if provided, then directly set corr_image, no additional calculations</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.calculate_geometry">
<span class="sig-name descname"><span class="pre">calculate_geometry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry_obj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boost</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.calculate_geometry" title="Permalink to this definition"></a></dt>
<dd><p>Does geometry calculation and saves it as class attribute.
Decides if existing object should be loaded. Provides class object from geometry class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.cleanup">
<span class="sig-name descname"><span class="pre">cleanup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.cleanup" title="Permalink to this definition"></a></dt>
<dd><p>Cleans memory intensive data from instance. Much calculated data will not be available after this.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.clear_reshaped_plot">
<span class="sig-name descname"><span class="pre">clear_reshaped_plot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.clear_reshaped_plot" title="Permalink to this definition"></a></dt>
<dd><p>Clears and closes map_figure and sets instance variables to their default None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.clear_reshaped_plot_chiq">
<span class="sig-name descname"><span class="pre">clear_reshaped_plot_chiq</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.clear_reshaped_plot_chiq" title="Permalink to this definition"></a></dt>
<dd><p>Clears and closes map_figure and sets instance variables to their default None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.create_cut_saxs">
<span class="sig-name descname"><span class="pre">create_cut_saxs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cut_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qy_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qy_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut_space</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'qy'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.create_cut_saxs" title="Permalink to this definition"></a></dt>
<dd><p>Makes a SAXS cut. q values in inverse angstroms.</p>
<p>Note: Per default, qy-space is used to define the GISAXS cut. It is assumed qx=0.
If the qx-value is of importance, please use cut_space=’qr’ to define your cut in qr-space with the true qx value.</p>
<p>Picks all pixels that match cut parameters using the CutSAXS class and stores result as class attribute.</p>
<p>For more information about SAXS cuts please see the CutSAXS class documentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cut_name</strong> (<em>str</em>) – name of cut</p></li>
<li><p><strong>qy_min</strong> (<em>float</em>) – cut limits</p></li>
<li><p><strong>qy_max</strong> (<em>float</em>) – cut limits</p></li>
<li><p><strong>qz_min</strong> (<em>float</em>) – cut limits</p></li>
<li><p><strong>qz_max</strong> (<em>float</em>) – cut limits</p></li>
<li><p><strong>along</strong> (<em>str</em>) – ‘q’ (vertical cut) or ‘chi’ (horizontal cut)</p></li>
<li><p><strong>geo</strong> (<a class="reference internal" href="#insight_scatter.geometrycalculations.GeometryCalculations" title="insight_scatter.geometrycalculations.GeometryCalculations"><em>GeometryCalculations</em></a>) – Provide a geometry object for this SAXS cut. Leave None for default.</p></li>
<li><p><strong>cut_space</strong> (<em>string</em>) – ‘qy’ (default) or ‘qr’, defines space where the cut takes place</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.create_cut_waxs">
<span class="sig-name descname"><span class="pre">create_cut_waxs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cut_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chi_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chi_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qr_center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz_center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rm_gap_infl_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.create_cut_waxs" title="Permalink to this definition"></a></dt>
<dd><p>Makes a WAXS cut. q-values in inverse angstroms.</p>
<p>Picks all pixels that match cut parameters using the CutWAXS class and stores result as class attribute.
Can remove the influence of detector gaps by masking pixels very close to the gap.</p>
<p>You can specify your own cut center by providing qr_center and qz_center.</p>
<p>For more information check out CutWAXS class documentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rm_gap_infl_dir</strong> (<em>str</em>) – ‘chi’ or ‘q’. remove detector gap influence from cut data</p></li>
<li><p><strong>cut_name</strong> (<em>str</em>) – provide a name for the ctu</p></li>
<li><p><strong>q_min</strong> (<em>float</em>) – cut limits</p></li>
<li><p><strong>q_max</strong> (<em>float</em>) – cut limits</p></li>
<li><p><strong>chi_min</strong> (<em>float</em>) – cut limits</p></li>
<li><p><strong>chi_max</strong> (<em>float</em>) – cut limits</p></li>
<li><p><strong>qr_center</strong> (<em>float</em>) – make cut around q_r value (optional)</p></li>
<li><p><strong>qz_center</strong> (<em>float</em>) – make cut around q_z value (optional)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.delete_hot_pixels">
<span class="sig-name descname"><span class="pre">delete_hot_pixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_int</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blur</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.delete_hot_pixels" title="Permalink to this definition"></a></dt>
<dd><p>Deletes all hot pixels above the provided limits. Pixels above max_int are always deleted, the blur function
removes pixel that are much stronger (threshold times) than their local environment (given by size).</p>
<p>The function returns a mask that select the hot pixels. It uses a combination of too high intensities locally and
globally by specifying an intensity threshold and a threshold for local relative intensity deviations</p>
<p>Adapted from:
stackoverflow.com/questions/18951500/automatically-remove-hot-dead-pixels-from-an-image-in-python</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_int</strong> (<em>float</em>) – Deletes all hot pixels above the provided limits.</p></li>
<li><p><strong>blur</strong> (<em>bool</em>) – removes pixel that are much stronger (threshold times) than their local environment (given by size)</p></li>
<li><p><strong>threshold</strong> (<em>float</em>) – threshold</p></li>
<li><p><strong>size</strong> (<em>float</em>) – local environment size in px</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.denoise">
<span class="sig-name descname"><span class="pre">denoise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'median'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.denoise" title="Permalink to this definition"></a></dt>
<dd><p>Denoises the image using the scipy gaussian or median filter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<em>string</em>) – median or gaussian</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – sigma</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.fliplr">
<span class="sig-name descname"><span class="pre">fliplr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reorient_flatfield_and_masks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.fliplr" title="Permalink to this definition"></a></dt>
<dd><p>Flips the image left to right.
If reorient_flatfield_and_masks=True, it transposes also the masks/flatfields.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.flipud">
<span class="sig-name descname"><span class="pre">flipud</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reorient_flatfield_and_masks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.flipud" title="Permalink to this definition"></a></dt>
<dd><p>Flips the image upside down.
If reorient_flatfield_and_masks=True, it transposes also the masks/flatfields.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.list_cuts">
<span class="sig-name descname"><span class="pre">list_cuts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.list_cuts" title="Permalink to this definition"></a></dt>
<dd><p>List all cuts attributed to this SingleImage.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.main">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.optimize_sdd">
<span class="sig-name descname"><span class="pre">optimize_sdd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cut_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_ref</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_plot_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_binned</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_redo_cuts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boost</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.optimize_sdd" title="Permalink to this definition"></a></dt>
<dd><p>Optimizes sample-to-detector-distance (SDD) by using the provided reference Bragg peak.</p>
<p>Provide a q-value for a reference Bragg peak. This function will then determine the Bragg peak position by
fitting the provided radial cake cut and then calculate a new SDD.
The new SDD is used to redo all cuts automatically if redo=True. Default is False and old cuts
will be deleted to prevent wrong usage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q_start</strong> (<em>float</em>) – q-value for start optimization</p></li>
<li><p><strong>cut_name</strong> (<em>string</em>) – provide the name of the cut that is stored in the SingleImage instance</p></li>
<li><p><strong>q_ref</strong> (<em>float</em>) – q-value of reference Bragg peak (ring) position</p></li>
<li><p><strong>model</strong> – lmfit Model for custom fit model</p></li>
<li><p><strong>parameters</strong> – lmfit Parameters for custom fit model</p></li>
<li><p><strong>center_name</strong> (<em>str</em>) – name of fit parameter that contains center value for sdd optimization</p></li>
<li><p><strong>plot</strong> – plot fitting result</p></li>
<li><p><strong>save_plot_path</strong> (<em>path</em>) – path if fit results should be saved, plot must be True</p></li>
<li><p><strong>use_binned</strong> (<em>bool</em>) – use binned date for fitting</p></li>
<li><p><strong>skip_redo_cuts</strong> (<em>bool</em>) – redo all fits, default is False (old cuts will be deleted)</p></li>
<li><p><strong>weights</strong> (<em>str</em>) – lmfit keyword for using weights, default is None</p></li>
<li><p><strong>boost</strong> (<em>int</em>) – 0,1,2 to set boost level, default is 2.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.plot_cut_outline_saxs">
<span class="sig-name descname"><span class="pre">plot_cut_outline_saxs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cut_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#66ffba'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.plot_cut_outline_saxs" title="Permalink to this definition"></a></dt>
<dd><p>Shows the SAXS cut “cut_name” in plot.
The outer limits of the specified cut will be drawn into the reshaped image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cut_name</strong> (<em>str</em>) – name of the cut</p></li>
<li><p><strong>color</strong> (<em>str</em><em>,</em><em>list</em><em>,</em><em>tuple</em>) – matplotlib color key</p></li>
<li><p><strong>ls</strong> (<em>str</em>) – linestyle (see matplotlib documentation for details)</p></li>
<li><p><strong>lw</strong> (<em>float</em>) – linewidth (see matplotlib documentation for details)</p></li>
<li><p><strong>alpha</strong> (<em>float</em>) – transparency value between 0 and 1</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.plot_cut_outline_waxs">
<span class="sig-name descname"><span class="pre">plot_cut_outline_waxs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cut_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'blue'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bg_annuli</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.plot_cut_outline_waxs" title="Permalink to this definition"></a></dt>
<dd><p>Shows the WAXS cut “cut_name” in plot.</p>
<p>Note: SingleImage.create_cut_waxs() takes q-value arguments in inverse angstroms.</p>
<p>The outer limits of the specified cut will be drawn into the reshaped image. Since chi is defined clockwise
with 0 degrees to the top the patch needs some angular modifications to be in agreement.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cut_name</strong> (<em>str</em>) – name of the cut</p></li>
<li><p><strong>color</strong> (<em>str</em><em>,</em><em>list</em><em>,</em><em>tuple</em>) – matplotlib color key</p></li>
<li><p><strong>ls</strong> (<em>str</em>) – linestyle (see matplotlib documentation for details)</p></li>
<li><p><strong>lw</strong> (<em>float</em>) – linewidth (see matplotlib documentation for details)</p></li>
<li><p><strong>alpha</strong> (<em>float</em>) – transparency value between 0 and 1</p></li>
<li><p><strong>bg_annuli</strong> (<em>bool</em>) – draws the limits of 2 additional cuts, if local background subtraction was used</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.plot_flatfield">
<span class="sig-name descname"><span class="pre">plot_flatfield</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.plot_flatfield" title="Permalink to this definition"></a></dt>
<dd><p>Plots applied flatfield.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.plot_gap_mask">
<span class="sig-name descname"><span class="pre">plot_gap_mask</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.plot_gap_mask" title="Permalink to this definition"></a></dt>
<dd><p>Plots applied gap mask.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.plot_local_bg_annuli">
<span class="sig-name descname"><span class="pre">plot_local_bg_annuli</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cut_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'blue'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dashed'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.plot_local_bg_annuli" title="Permalink to this definition"></a></dt>
<dd><p>Deprecated.
Use plot_cut_waxs() instead.</p>
<p>Plots only the outlines of the cuts for local background correction of tube cuts.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.plot_raw_image">
<span class="sig-name descname"><span class="pre">plot_raw_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geo_infos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'turbo'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pretty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.plot_raw_image" title="Permalink to this definition"></a></dt>
<dd><p>Plots the current raw (not corrected or reshaped) image.</p>
<p>Normal call of plt.imshow will show the image upside down, since pixel counting
starts from top left. In order to display the image to resemble the real detector, we use the image origin
“lower”. Thus, in correct image orientation, the lowermost and leftmost pixel has pixel coordinates (0,0) and
the horizon is on the bottom with substrate below the horizon.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>legend</strong> (<em>bool</em>) – shows legend</p></li>
<li><p><strong>geo_infos</strong> (<em>bool</em>) – shows geometry related features, e.g. direct beam position</p></li>
<li><p><strong>grid</strong> (<em>bool</em>) – shows grid</p></li>
<li><p><strong>vmin</strong> (<em>float</em>) – colormap min value</p></li>
<li><p><strong>vmax</strong> (<em>float</em>) – colormap max value</p></li>
<li><p><strong>cmap</strong> – provide name of plt colormap</p></li>
<li><p><strong>pretty</strong> (<em>bool</em>) – replace NaN pixels with neighbor average to remove them for plotting</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.plot_reshaped_chiq">
<span class="sig-name descname"><span class="pre">plot_reshaped_chiq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pretty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qr_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chi_q_lims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'turbo'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.plot_reshaped_chiq" title="Permalink to this definition"></a></dt>
<dd><p>Plots reshaped image (chi vs q). Uses fast-binning algorithm for plotting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pretty</strong> (<em>bool</em>) – replace NaN pixels with neighbor average to remove them for plotting</p></li>
<li><p><strong>qr_bins</strong> (<em>int</em>) – number of q_r bins used for plotting, if None: automatic estimation</p></li>
<li><p><strong>vmin</strong> (<em>float</em>) – colormap minimum intensity</p></li>
<li><p><strong>vmax</strong> (<em>float</em>) – colormap maximum intensity</p></li>
<li><p><strong>folder_path</strong> (<em>path</em>) – If a folderpath is provided the plot will be saved (default None).</p></li>
<li><p><strong>chi_q_lims</strong> (<em>list/tuple</em>) – plot limits (qr_min, qr_max, qz_min, qz_max), all limits must be provided</p></li>
<li><p><strong>cmap</strong> (<em>str</em>) – matplotlib colormap key</p></li>
<li><p><strong>show</strong> (<em>bool</em>) – show plot</p></li>
<li><p><strong>folding</strong> (<em>bool</em>) – if image should be folded left right onto each other</p></li>
<li><p><strong>gap_mask</strong> (<em>bool</em>) – to find the gaps and mask them with -1,</p></li>
<li><p><strong>data</strong> (<em>ability to plot them different from 0-count</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.plot_reshaped_image">
<span class="sig-name descname"><span class="pre">plot_reshaped_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pretty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qr_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qr_qz_lims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'turbo'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centered</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">GISAXS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geo_infos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices_fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'medium'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'orange'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nan_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'black'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.plot_reshaped_image" title="Permalink to this definition"></a></dt>
<dd><p>Plots reshaped image. Uses fast-binning algorithm for plotting.</p>
<p>Note: qr values are flipped to achieve plotting results in the same geometry as the raw detector image.
qx, qy, qz values are not flipped (e.g., when plotting GISAXS in qy space) and might result in flipped
geometries due to a right-handed coordinate system used for transformation to reciprocal space.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pretty</strong> (<em>bool</em>) – replace NaN pixels with neighbor average to remove them for plotting</p></li>
<li><p><strong>qr_bins</strong> (<em>int</em>) – number of q_r bins used for plotting, if None: automatic estimation</p></li>
<li><p><strong>vmin</strong> (<em>float</em>) – colormap minimum intensity</p></li>
<li><p><strong>vmax</strong> (<em>float</em>) – colormap maximum intensity</p></li>
<li><p><strong>folder_path</strong> (<em>path</em>) – If a folderpath is provided the plot will be saved (default None).</p></li>
<li><p><strong>qr_qz_lims</strong> (<em>list/tuple</em>) – plot limits (qr_min, qr_max, qz_min, qz_max), all limits must be provided</p></li>
<li><p><strong>cmap</strong> (<em>str</em><em>,</em>) – matplotlib colormap key</p></li>
<li><p><strong>centered</strong> (<em>list/tuple</em>) – values to center the binned image. The provided qr,qz value will have a centered bin</p></li>
<li><p><strong>show</strong> (<em>bool</em>) – show plot</p></li>
<li><p><strong>folding</strong> (<em>bool</em>) – if image should be folded left right onto each other</p></li>
<li><p><strong>gap_mask</strong> (<em>bool</em>) – to find the gaps and mask them with -1,</p></li>
<li><p><strong>data</strong> (<em>ability to plot them different from 0-count</em>) – </p></li>
<li><p><strong>GISAXS</strong> (<em>bool</em>) – If true, use q_xy as x-axis and use alpha_f as second y-axis.</p></li>
<li><p><strong>geo_infos</strong> (<em>bool</em>) – add geometrical information to the plot</p></li>
<li><p><strong>grid</strong> (<em>bool</em>) – add grid</p></li>
<li><p><strong>indices</strong> (<em>array</em>) – add Bragg indices from giwaxs_sim module</p></li>
<li><p><strong>indices_fontsize</strong> (<em>int</em>) – specify fontsize for Bragg indices</p></li>
<li><p><strong>plot_labels</strong> (<em>bool</em>) – show Bragg indices labels</p></li>
<li><p><strong>index_color</strong> (<em>str</em>) – matplotlib color of indices circles</p></li>
<li><p><strong>nan_color</strong> (<em>str</em>) – matplotlib color of nan-pixels</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.rot90">
<span class="sig-name descname"><span class="pre">rot90</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reorient_flatfield_and_masks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.rot90" title="Permalink to this definition"></a></dt>
<dd><p>Rotates the image 90 deg in clockwise direction.
If reorient_flatfield_and_masks=True, it transposes also the masks/flatfields.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'geo_basic'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.save" title="Permalink to this definition"></a></dt>
<dd><p>Saves maps from geometry calculations.</p>
<p>If only the basic option is chosen, the following maps are saved: q_r and q_z.
All other calculated maps are saved in geo_full mode. Be careful when saving all maps, due to large size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>string</em>) – geo_full or geo_basic</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.save_cut">
<span class="sig-name descname"><span class="pre">save_cut</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cut_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binned</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'testcut.dat'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_in_inv_nm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.save_cut" title="Permalink to this definition"></a></dt>
<dd><p>Saves the cut with arbitrary number of columns, sorting along the first axis
needs column input! Arrays can be saved directly with np.savetxt().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cut_name</strong> (<em>str</em>) – name of cut object</p></li>
<li><p><strong>along</strong> (<em>str</em>) – ‘q’ (radial cake cut (WAXS), ‘qz’ vertical cut (SAXS)
or ‘chi’ (azimuthal tube cut (WAXS), ‘qy’ horizontal cut (SAXS)</p></li>
<li><p><strong>binned</strong> (<em>bool</em>) – saves binned data</p></li>
<li><p><strong>fname</strong> (<em>str</em>) – filename with extension</p></li>
<li><p><strong>fpath</strong> (<em>path</em>) – directory path</p></li>
<li><p><strong>comment</strong> (<em>str</em>) – comment for the file header</p></li>
<li><p><strong>q_in_inv_nm</strong> (<em>bool</em>) – default False. If True, save q-line-cuts in inv. nm (INSIGHT default is inv. Angstrom)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="insight_scatter.singleimage.SingleImage.transpose">
<span class="sig-name descname"><span class="pre">transpose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reorient_flatfield_and_masks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.singleimage.SingleImage.transpose" title="Permalink to this definition"></a></dt>
<dd><p>Transposes the image.
If reorient_flatfield_and_masks=True, it transposes also the masks/flatfields.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-insight_scatter.staticfunctions">
<span id="insight-scatter-staticfunctions-module"></span><h2>insight_scatter.staticfunctions module<a class="headerlink" href="#module-insight_scatter.staticfunctions" title="Permalink to this heading"></a></h2>
<p>Collection of module functions needed in several places and not bound to a class or class-object.</p>
<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.SLD_to_qc">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">SLD_to_qc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">SLD</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.SLD_to_qc" title="Permalink to this definition"></a></dt>
<dd><p>Calculates critical momentum transfer q_c from SLD (SLD in inv A squared).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.afs_to_qz">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">afs_to_qz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a_fs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wl</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.afs_to_qz" title="Permalink to this definition"></a></dt>
<dd><p>Converts a_fs to qz (alpha final with respect to substrate). All angles in radians.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.apply_gap_mask">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">apply_gap_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.apply_gap_mask" title="Permalink to this definition"></a></dt>
<dd><p>Applies gap mask to provided image.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.binary_image">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">binary_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.binary_image" title="Permalink to this definition"></a></dt>
<dd><p>Takes a detector image and returns a binary version (0 or 1) of it, useful for masking purpose.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.binning">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">binning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.binning" title="Permalink to this definition"></a></dt>
<dd><p>Bins linecut data using fast_histogram function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>list</em>) – x data</p></li>
<li><p><strong>y</strong> (<em>list</em>) – y data</p></li>
<li><p><strong>n</strong> (<em>int</em>) – number of bins</p></li>
<li><p><strong>bin_range</strong> (<em>tuple</em>) – binning range</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>binned x-values, binned y-values</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.binning_stats">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">binning_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.binning_stats" title="Permalink to this definition"></a></dt>
<dd><p>Bins linecut data with scipy stats.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>list</em>) – x data</p></li>
<li><p><strong>y</strong> (<em>list</em>) – y data</p></li>
<li><p><strong>n</strong> (<em>int</em>) – number of bins</p></li>
<li><p><strong>bin_range</strong> (<em>tuple</em>) – binning range</p></li>
<li><p><strong>verbose</strong> (<em>Bool</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>binned x-values, binned y-values, (count statistic), (standard deviation)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.brute_filling">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">brute_filling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">binary</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.brute_filling" title="Permalink to this definition"></a></dt>
<dd><p>Creates squares of given dimensions (defined by pixels) based on nonzero datapoints and searches for largest
rectangle within the square defined by data points that is masked subsequently.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>binary</strong> (<em>array</em>) – the binary image</p></li>
<li><p><strong>distance</strong> (<em>int</em>) – the maximum pixel distance to fill (Must be lower than minimum gap distance!)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>image</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.calc_missing_wedge">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">calc_missing_wedge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qr_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qr_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_i</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.calc_missing_wedge" title="Permalink to this definition"></a></dt>
<dd><p>Calculates qr and qz values of missing wedge, where qy=0. wl in Angstrom. a_i in radians.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.calc_missing_wedge_bottom">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">calc_missing_wedge_bottom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qr_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qr_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_i</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.calc_missing_wedge_bottom" title="Permalink to this definition"></a></dt>
<dd><p>Calculates qr and qz values of missing wedge, where qy=0. wl in Angstrom. a_i in radians.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.calc_spec_beam_pos">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">calc_spec_beam_pos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prim_beam</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sdd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inca</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pxsize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tilt_px_y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tilt_px_x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.calc_spec_beam_pos" title="Permalink to this definition"></a></dt>
<dd><p>Calculates tilt-corrected specular beam pixel positions from primary beam pixel position.
This function is only valid if the beam is perpendicular on the detector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prim_beam</strong> (<em>tuple</em>) – x and y coordinate of primary beam in px</p></li>
<li><p><strong>sdd</strong> (<em>float</em>) – sample-to-detector-distance in mm</p></li>
<li><p><strong>inca</strong> (<em>float</em>) – incident angle in deg</p></li>
<li><p><strong>pxsize</strong> (<em>float</em>) – pixel size in mm</p></li>
<li><p><strong>tilt_px_y</strong> (<em>float</em>) – y tilt in pixel of horizon</p></li>
<li><p><strong>tilt_px_x</strong> (<em>float</em>) – x tilt in pixel of horizon</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>specular beam position x,y (tuple)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.calculate_detectormask">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">calculate_detectormask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Imapfile_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elaborate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polish</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convex_hull</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap_dist_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plotting</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.calculate_detectormask" title="Permalink to this definition"></a></dt>
<dd><p>Calculate detector mask, optionally with elaborate methods to get a good mask for sparsely sampled data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Imapfile_data</strong> (<em>array</em>) – the raw image detector image</p></li>
<li><p><strong>elaborate</strong> (<em>str</em>) – use advanced methods to interpolate the regions in between nonzero pixels within distance gap_dist_min.</p></li>
<li><p><strong>None</strong> (<em>Decide if</em>) – </p></li>
<li><p><strong>'brute'.</strong> (<em>or 'kdtree' or</em>) – </p></li>
<li><p><strong>polish</strong> (<em>bool</em>) – use some image algorithm to improve detector segment area recognition. Default True</p></li>
<li><p><strong>convex_hull</strong> (<em>bool</em>) – get convex hull around region of points. Default True</p></li>
<li><p><strong>gap_dist_min</strong> (<em>int</em>) – distance of pixels for elaborate data region search. Must not be larger than gap pixel size!</p></li>
<li><p><strong>k</strong> (<em>int</em>) – number of nearest neighbors for kdTree search</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A binary mask with raw-image dimensions with values 1 at gap positions and 0 at data regions</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.construct_lambda_composite_from_single_modules">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">construct_lambda_composite_from_single_modules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trans_arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_module_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.construct_lambda_composite_from_single_modules" title="Permalink to this definition"></a></dt>
<dd><p>Fill module data into a large array by respecting the translation coordinates from array</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>module_arr</strong> – </p></li>
<li><p><strong>trans_arr</strong> – </p></li>
<li><p><strong>exclude_module_list</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>lambda image (array)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.correct_sdd">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">correct_sdd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q_current</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_ref</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_sdd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wl</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.correct_sdd" title="Permalink to this definition"></a></dt>
<dd><p>Calculates correct SDD from approximate SDD, fitted q value, reference q value and wavelength.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q_current</strong> (<em>np.ndarray</em>) – the q value derived from fitting</p></li>
<li><p><strong>q_ref</strong> (<em>float</em>) – the desired q value to normalize it</p></li>
<li><p><strong>current_sdd</strong> (<em>float</em>) – the SDD used for the reshaping of the data</p></li>
<li><p><strong>wl</strong> (<em>float</em>) – the wavelength</p></li>
</ul>
</dd>
</dl>
<p>Returns: the corrected SDD with which the corrected cake cut should show the correct the q-value for the reflex</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.criticalAngle">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">criticalAngle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">SLD</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.criticalAngle" title="Permalink to this definition"></a></dt>
<dd><p>Calculates critical angle in radians from wl (Angstrom) and SLD (inv A squared).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.d_to_q">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">d_to_q</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.d_to_q" title="Permalink to this definition"></a></dt>
<dd><p>Converts d-spacing (angstrom) to q-space (inverse angstrom)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>d</strong> (<em>float</em>) – d-spacing in real space in angstrom</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>q-value in reciprocal space in inverse angstrom</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>q (float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.eV_to_nm">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">eV_to_nm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eV</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.eV_to_nm" title="Permalink to this definition"></a></dt>
<dd><p>Converts eV to nm.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.fast_binning">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">fast_binning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qrarr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qzarr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Iarr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qr_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centered</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.fast_binning" title="Permalink to this definition"></a></dt>
<dd><p>Uses the fast histogram function to do a computational efficient binning of q-map data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>centered</strong> (<em>optional</em>) – tuple/list with 2 values. If qr and qz values are specified, the binning will center this</p></li>
<li><p><strong>binning</strong> (<em>q position in the</em>) – </p></li>
<li><p><strong>representation</strong> (<em>e.g. useful for db</em><em> or </em><em>specular beam for symmetric q-maps</em>) – </p></li>
<li><p><strong>qr_bins</strong> – number of bins for first axes, second axes bins are estimated automatically using range and</p></li>
<li><p><strong>bins</strong> (<em>quadratic</em>) – </p></li>
<li><p><strong>qrarr</strong> – 1D/2D qr array</p></li>
<li><p><strong>qzarr</strong> – 1D/2D qz array</p></li>
<li><p><strong>Iarr</strong> – 1D/2D Intensity array</p></li>
</ul>
</dd>
</dl>
<p>Note: Either all inputs are 1D ravelled input or all are 2D input.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the binned image, weighted with the intensity per bin and normalized with the number of points per
bin
extent: pass this to plt.imshow for correct plotting. With this one could calculate the bin edges as well</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>binned</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.fast_binning_chi_q">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">fast_binning_chi_q</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q_arr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chi_arr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">I_arr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.fast_binning_chi_q" title="Permalink to this definition"></a></dt>
<dd><p>Use the fast histogram function to do a computational efficient binning of q-map data (for chi-q-plotting).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>centered</strong> (<em>optional</em>) – tuple/list with 2 values. If qr and qz values are specified, the binning will center this</p></li>
<li><p><strong>binning</strong> (<em>q position in the</em>) – </p></li>
<li><p><strong>representation</strong> (<em>e.g. useful for db</em><em> or </em><em>specular beam for symmetric q-maps</em>) – </p></li>
<li><p><strong>q_bins</strong> – number of bins for first axes, second axes bins are estimated automatically</p></li>
<li><p><strong>q_arr</strong> – 1D/2D q array</p></li>
<li><p><strong>chi_arr</strong> – 1D/2D chi array</p></li>
<li><p><strong>I_arr</strong> – 1D/2D Intensity array</p></li>
</ul>
</dd>
</dl>
<p>Note: either all inputs are 1D ravelled input or all are 2D input</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the binned image, weighted with the intensity per bin and normalized with the number of points per
bin
extent: pass this to plt.imshow for correct plotting. With this one could calculate the bin edges as well</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>binned</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.fill_masked_pixels">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">fill_masked_pixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.fill_masked_pixels" title="Permalink to this definition"></a></dt>
<dd><p>Uses gaussian convolution to fill nan-intensity pixel with surrounding intensity.
The convolved image counts are replaced with the original non-nan image counts in order to ensure changing only
of nan pixels</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> – image array</p></li>
<li><p><strong>kernel_size</strong> – how large the kernel for the smoothing should be. Default 0.3 corresponds to ~3 px, check with</p></li>
<li><p><strong>'print</strong> (<em>kernel.array</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Array of same shape as input with single masked pixels filled by gaussian convolution.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.find_gaps">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">find_gaps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Imapfile_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.find_gaps" title="Permalink to this definition"></a></dt>
<dd><p>Find gaps. Find detector areas with skimage (non-zero values are detector segments, zero are dead pixels
and gaps). Return array with 1 at data region and 0 at gap position.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.find_gaps_v2">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">find_gaps_v2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Imapfile_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.find_gaps_v2" title="Permalink to this definition"></a></dt>
<dd><p>Find gaps version 2.</p>
<p>Find detector areas with skimage (non-zero values are data counts, zero/nans are dead pixels
and gaps). Return array with 1 at data region and 0 at gap position.</p>
<p>Assume an image where gap points and masked pixels and regions with no counts are np.nan or zeros</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Imapfile_data</strong> – Image array</p></li>
<li><p><strong>plot</strong> (<em>bool</em>) – Plot result.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>original image but gap areas now have counts -1 (rest unchanged, also hot/dead pixels should be untouched)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.fold">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">fold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.fold" title="Permalink to this definition"></a></dt>
<dd><p>Folds image left/right side pixel-wise to remove white spots or detector gaps by symmetric data.
db_x defines center offset from detector y-center.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>im</strong> (<em>array</em>) – image data</p></li>
<li><p><strong>db_x</strong> (<em>float</em>) – y center offset</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Folded image (array).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.getGaussArray">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">getGaussArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.getGaussArray" title="Permalink to this definition"></a></dt>
<dd><p>Returns 1D Gauss array.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.getLorentz">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">getLorentz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linspace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[-1,</span> <span class="pre">1,</span> <span class="pre">100]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.getLorentz" title="Permalink to this definition"></a></dt>
<dd><p>Returns 1D Lorentzian array.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.getQ">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">getQ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">theta_deg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wl</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.getQ" title="Permalink to this definition"></a></dt>
<dd><p>Get q component in grazing-incidence scattering event (in lab coordinate reference frame).
Theta is half the scattering angle, as used in q=2k*sin(theta).
Angles in degrees, wavelength in Angstrom. Returns the magnitue of q in inverse Angstrom.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.getQz">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">getQz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a_i_deg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_f_deg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wl</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.getQz" title="Permalink to this definition"></a></dt>
<dd><p>Get q_z component in grazing-incidence scattering event (in sample coordinate reference frame).
Angles in degrees, wavelength in Angstrom. Returns magnitude of q_z-component in inverse Angstrom.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.get_convex_hull">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">get_convex_hull</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.get_convex_hull" title="Permalink to this definition"></a></dt>
<dd><p>Takes points and calculates the convex circumference line for an image with multiple regions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mask</strong> (<em>array</em>) – the binary detector array</p></li>
<li><p><strong>show_plot</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>gap_mask (array)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.get_golden_roatio">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">get_golden_roatio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.get_golden_roatio" title="Permalink to this definition"></a></dt>
<dd><p>Returns golden ratio in respect to provided (longer) length.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.get_lmfitModel_1g">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">get_lmfitModel_1g</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">center_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.get_lmfitModel_1g" title="Permalink to this definition"></a></dt>
<dd><p>Creates a lmfit model and parameter set with one gaussian and a constant background.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>center_start</strong> (<em>float</em>) – start value for gaussian center</p></li>
<li><p><strong>center_min</strong> (<em>float</em>) – center min constraint</p></li>
<li><p><strong>center_max</strong> (<em>float</em>) – center max constraint</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>lmfit model
parameters: lmfit parameter set
center_name: name of gaussian parameter that stores center value</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>model</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.get_lmfitModel_1l">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">get_lmfitModel_1l</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">center_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.get_lmfitModel_1l" title="Permalink to this definition"></a></dt>
<dd><p>Creates a lmfit model and parameter set with one lorentz and a constant background.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>center_start</strong> (<em>float</em>) – start value for gaussian center</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>lmfit model
parameters: lmfit parameter set
center_name: name of gaussian parameter that stores center value</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>model</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.get_missing_1D_data_ranges">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">get_missing_1D_data_ranges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xcoords</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.get_missing_1D_data_ranges" title="Permalink to this definition"></a></dt>
<dd><p>Gets the misssing 1d data range for x coordinates.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.get_outlier_pixel_mask">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">get_outlier_pixel_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_int</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blur</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.get_outlier_pixel_mask" title="Permalink to this definition"></a></dt>
<dd><p>Returns a mask that selects the hot pixels. It uses a combination of too high intensities locally and
globally by specifying an intensity threshold and a threshold for local relative intensity deviations.</p>
<p>Adapted from:
stackoverflow.com/questions/18951500/automatically-remove-hot-dead-pixels-from-an-image-in-python</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_int</strong> – the intensity threshold. if blur==True, use both, blurring and intensity as individual constraint for</p></li>
<li><p><strong>blur==False</strong> (<em>pixel deletion. if</em>) – </p></li>
<li><p><strong>constraint</strong> (<em>use only the intensity as hard</em>) – </p></li>
<li><p><strong>blur</strong> – bool, if the median_filter blurring should be used to find locally strong pixels</p></li>
<li><p><strong>data</strong> – the array</p></li>
<li><p><strong>threshold</strong> – delete pixel that are above threshold in terms of a multplicative factor stronger.
threshold= 10 is one order of magnitude</p></li>
<li><p><strong>size</strong> – size*size are the filter area dimensions</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>mask (2D array)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.get_time_from_header">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">get_time_from_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.get_time_from_header" title="Permalink to this definition"></a></dt>
<dd><p>Reads the time from detector image header from provided path.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.get_version_info">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">get_version_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prnt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.get_version_info" title="Permalink to this definition"></a></dt>
<dd><p>Returns INSIGHT version.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.get_weights_poisson">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">get_weights_poisson</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.get_weights_poisson" title="Permalink to this definition"></a></dt>
<dd><p>Gets poisson weights for input array.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.graining">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">graining</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thres_delta_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">statistics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.graining" title="Permalink to this definition"></a></dt>
<dd><p>Graining.</p>
<p>Assume non-negative x values and sorted along x.
with statistics return values match plt.errorbar for plotting with “*”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – </p></li>
<li><p><strong>y</strong> – </p></li>
<li><p><strong>thres_delta_x</strong> – a delta q threshold that set’s the detection limit for the graining function</p></li>
<li><p><strong>statistics</strong> (<em>bool</em><em>, </em><em>default True</em>) – if the return should contain some additional statistical parameters of the</p></li>
<li><p><strong>graining.</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>grained x coordinates
pys: grained y coordinates
eys: stderr of y grained coordinates
exs: stderr of x grained coordinates
cts: num of points that are grained together for each grained data point</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pxs</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.guess2params">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">guess2params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">guess</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.guess2params" title="Permalink to this definition"></a></dt>
<dd><p>Converts PeakFind guess to parameters readable for FitCut</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.hkl_format">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">hkl_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">standalone</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#insight_scatter.staticfunctions.hkl_format" title="Permalink to this definition"></a></dt>
<dd><p>LaTeX representation of an integer with a bar if it is negative.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>int</em>) – Integer.</p></li>
<li><p><strong>standalone</strong> (<em>bool</em>) – If True, puts $ chars around the string.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>LaTeX representation of n.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.import_cakeCut">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">import_cakeCut</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.import_cakeCut" title="Permalink to this definition"></a></dt>
<dd><p>Imports cake cuts generated with INSIGHT as pandas dataframe.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.import_tubeCut">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">import_tubeCut</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.import_tubeCut" title="Permalink to this definition"></a></dt>
<dd><p>Imports tube cuts generated with INSIGHT as pandas dataframe.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.include_range">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">include_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_range</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.include_range" title="Permalink to this definition"></a></dt>
<dd><p>Includes a desired range a to b (in x-axis) from data by masking the outside.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – x-axis data (chi or q typically)</p></li>
<li><p><strong>include_range</strong> – list/tuple of the form [a,b]</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>masked data, only the inner portion
the mask used</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.include_range1D">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">include_range1D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_range</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.include_range1D" title="Permalink to this definition"></a></dt>
<dd><p>Includes a desired range a to b (in x-axis) from data by masking the outside.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – x-axis data (chi or q typically)</p></li>
<li><p><strong>include_range</strong> – list/tuple of the form [a,b]</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>masked data, only the inner portion
the mask used</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.interpolation">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">interpolation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qr_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qr_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins_qr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins_qz</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.interpolation" title="Permalink to this definition"></a></dt>
<dd><p>Do an interpolation from an irregular grid to a regular grid.  (When source data is on a grid we can interpolate
faster than when it consists of arbitrary points).</p>
<p><a class="reference external" href="https://stackoverflow.com/questions/49140965/python-efficiently-interpolate-from-an-irregular-grid-to-a-regular-grid-in-2d">https://stackoverflow.com/questions/49140965/python-efficiently-interpolate-from-an-irregular-grid-to-a-regular-grid-in-2d</a>
<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.NearestNDInterpolator.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.NearestNDInterpolator.html</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.kernelling">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">kernelling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_thres</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.kernelling" title="Permalink to this definition"></a></dt>
<dd><p>Gets local data point density by adding gaussian normal distributions at every position of the points
time necessary to execute grows with len(grid)**0.5 and linear with length x,y.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> – number of points for the grid the kenelled data will live on</p></li>
<li><p><strong>x</strong> – 1D data</p></li>
<li><p><strong>y</strong> – 1D (intensity) data</p></li>
<li><p><strong>n</strong> – number of bins</p></li>
<li><p><strong>sigma</strong> – width of kernel, increase to avoid modulations by data noise</p></li>
<li><p><strong>sigma_thres</strong> – number of sigmas to truncate gaussian</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>new grid, mean intensity, abs intensity, and measurement point-density</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.lambda_composite2single_modules">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">lambda_composite2single_modules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lambda_image</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.lambda_composite2single_modules" title="Permalink to this definition"></a></dt>
<dd><p>Split composite lambda image made of multiple modules back into single modules.
Input lambda_image must be oriented in a way that plt.imshow(arr,origin=’lower’) gives the correct orientation with
respective module number labeling (desy module file numbering is +1):</p>
<p># how the plot should look like geometrically (2021-10)
[1] [3] [6] [9]
[1] [3] [6] [9]</p>
<p>[0] [2] [5] [8] [10]
[0] [2] [5] [8] [10]</p>
<blockquote>
<div><p>[4] [7]
[4] [7]</p>
</div></blockquote>
<p>Returns: array containing all the split up module data in correct order (similar as Desy counts the modules) and
another array with the translation coordinates</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.lmfit_simple_fit">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">lmfit_simple_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">guess_center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fit_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fit_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'leastsq'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_grid_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.lmfit_simple_fit" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>Performs a simple fit. Uses lmfit package. Data x and y must be provided. Lmfit model, parameters can be provided</dt><dd><p>(see lmfit documentation for details). If no model and parameters are provided a standard Gaussian profile with
constant background is assumed. For the default model the peak is assumed to be in the center of the provided
data range if guess_center is not provided.
For more complex fitting scenarios please use the lmfit package directly.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array</em>) – x and y values for fit</p></li>
<li><p><strong>y</strong> (<em>array</em>) – x and y values for fit</p></li>
<li><p><strong>model</strong> – lmfit model object</p></li>
<li><p><strong>parameters</strong> – lmfit parameters object</p></li>
<li><p><strong>weights_key</strong> – Choose between ‘None’ or ‘poisson’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>fitresult, init_parameters, init_model, x, y</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.load_aux_file">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">load_aux_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rot_angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mirror</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.load_aux_file" title="Permalink to this definition"></a></dt>
<dd><p>Loads cbf/tif (or similiar) image from path. Returns image data as array. Mirror and rotation angle
in multiples of 90° can be provided. Mirror is applied first.</p>
<p>Use this function, e.g., to load mask and flatfield images from file. Use SingleImage.apply_*() functions to apply
flatfield, gap_mask and pixel_mask.</p>
<p>Aliases to this function: load_flatfield_file(), load_gap_mask_file()</p>
<p>Set plot to True to visualize the loaded image array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>string</em>) – path to aux file</p></li>
<li><p><strong>rot_angle</strong> (<em>float</em>) – rotation angle in degrees, only multiples of 90deg are allowed</p></li>
<li><p><strong>mirror</strong> (<em>bool</em>) – mirror the array</p></li>
<li><p><strong>plot</strong> (<em>bool</em>) – plot loaded aux array</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Aux file array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.make_CutArray">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">make_CutArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_path_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">slice(None,</span> <span class="pre">None,</span> <span class="pre">1)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.make_CutArray" title="Permalink to this definition"></a></dt>
<dd><p>Merges cake or tube cuts togehter from INSGIHT generated export files provided by raw_path_list.</p>
<p>Useful for generating, e.g., 2d time evolution plots.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_path_list</strong> (<em>string</em>) – Path list to files.</p></li>
<li><p><strong>type</strong> (<em>string</em>) – ‘cake-cut’ or ‘tube-cut’</p></li>
<li><p><strong>sl</strong> (<em>slice</em>) – slicing the input raw_path_list</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>x, q, q_long OR x, chi, chi_long</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.make_hkl_string">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">make_hkl_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hkls</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.make_hkl_string" title="Permalink to this definition"></a></dt>
<dd><p>Extracts hkl labels as string from simulated indice collection.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.maps_plot_fast">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">maps_plot_fast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intensity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qr_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'inferno'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.maps_plot_fast" title="Permalink to this definition"></a></dt>
<dd><p>Fast plotting of maps (2D arrays).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qr</strong> – q_r values</p></li>
<li><p><strong>qz</strong> – q_z values</p></li>
<li><p><strong>intensity</strong> – intensity values</p></li>
<li><p><strong>vmin</strong> – colormap minimum</p></li>
<li><p><strong>vmax</strong> – colormap maximum</p></li>
<li><p><strong>qr_bins</strong> – number of q_r bins</p></li>
<li><p><strong>cmap</strong> (<em>str</em>) – matplotlib colormap</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.mask_inner_data">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">mask_inner_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.mask_inner_data" title="Permalink to this definition"></a></dt>
<dd><p>Masks data inside boundary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – x_data</p></li>
<li><p><strong>y</strong> – y_data</p></li>
<li><p><strong>lower</strong> – lower boundary</p></li>
<li><p><strong>upper</strong> – upper boundary</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>masked x_data
masked y_data</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.mask_nans">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">mask_nans</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.mask_nans" title="Permalink to this definition"></a></dt>
<dd><p>Returns array without NaNs and corresponding mask.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.mask_outer_data">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">mask_outer_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.mask_outer_data" title="Permalink to this definition"></a></dt>
<dd><p>Masks data outside boundary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – x_data</p></li>
<li><p><strong>y</strong> – y_data</p></li>
<li><p><strong>lower</strong> – lower boundary</p></li>
<li><p><strong>upper</strong> – upper boundary</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>masked x_data
masked y_data</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.mirror_rot_array">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">mirror_rot_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rot_angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mirror</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.mirror_rot_array" title="Permalink to this definition"></a></dt>
<dd><p>Rotates and mirrors numpy array. Only multiples of 90 deg are allowed for rotation. Mirror is boolean.
Mirror is applied first.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> (<em>array</em>) – input array</p></li>
<li><p><strong>rot_angle</strong> (<em>float</em>) – rotation angle in degrees, only multiples of 90deg are allowed</p></li>
<li><p><strong>mirror</strong> (<em>bool</em>) – mirror the array</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Rotated array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.nantozero1d">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">nantozero1d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array1d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.nantozero1d" title="Permalink to this definition"></a></dt>
<dd><p>Sets np.nan to zero.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.nantozero2d">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">nantozero2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array2d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.nantozero2d" title="Permalink to this definition"></a></dt>
<dd><p>Sets np.nan to zero. For 2d arrays.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.nearest_neighbor_filling">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">nearest_neighbor_filling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Imapfile_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neighbors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap_dist_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.nearest_neighbor_filling" title="Permalink to this definition"></a></dt>
<dd><p>Run a KDTree to find neighboring points and let them span rectangular areas to create a gap mask from sparsely
sampled data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Imapfile_data</strong> (<em>array</em>) – Intensity image</p></li>
<li><p><strong>neighbors</strong> (<em>int</em>) – number of neighbor points to define the rectangle around a point</p></li>
<li><p><strong>gap_dist_min</strong> – maximum search distance (infinite norm –&gt; rectangle)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A mask that might need to be polished later</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.nm_to_eV">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">nm_to_eV</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nm</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.nm_to_eV" title="Permalink to this definition"></a></dt>
<dd><p>Converts nm to eV.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.overload">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">overload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qr1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qr2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'simple'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.overload" title="Permalink to this definition"></a></dt>
<dd><p>Compares datapoints of 2 images at similar q positions and decides whether the mean, stronger or weaker intensity is
used. If image i1 contains NaN at this position, overwrite with value of image i2.
Need ravelled 1d arrays as inputs, return modified 1-d intensity for image 1</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qr1</strong> (<em>1-d array</em>) – qr values of image 1</p></li>
<li><p><strong>qz1</strong> (<em>1-d array</em>) – qz values of image 1</p></li>
<li><p><strong>i1</strong> (<em>1-d array</em>) – image 1 data (intensity values)</p></li>
<li><p><strong>qr2</strong> (<em>1-d array</em>) – qr values of image 2</p></li>
<li><p><strong>qz2</strong> (<em>1-d array</em>) – qz values of image 2</p></li>
<li><p><strong>i2</strong> (<em>1-d array</em>) – image 2 data (intensity values)</p></li>
<li><p><strong>method</strong> – ‘mean’, ‘high’ or ‘low’ casting method. If no method provided, just overwriting NaNs.
if for the new image mean, higher or lower value of image and overloaded image should be used</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.piecewise_binning">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">piecewise_binning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">graining</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.piecewise_binning" title="Permalink to this definition"></a></dt>
<dd><p>Piecewise binning.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.plot_fit_components">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">plot_fit_components</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xvals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yvals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitresult</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initparams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_grid_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.plot_fit_components" title="Permalink to this definition"></a></dt>
<dd><p>Creates a plot with data and initial fit, data and final fit (showing components) and residuum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xvals</strong> (<em>array</em>) – fitted x data</p></li>
<li><p><strong>yvals</strong> (<em>array</em>) – fitted y data</p></li>
<li><p><strong>fitresult</strong> (<em>lmfit</em>) – fitresult obj from lmfit</p></li>
<li><p><strong>initparams</strong> (<em>lmfit</em>) – initial starting parameters</p></li>
<li><p><strong>eval_range</strong> (<em>tuple</em>) – evaluation range</p></li>
<li><p><strong>eval_grid_num</strong> (<em>float</em>) – evaluation grid number of grid-points</p></li>
<li><p><strong>path</strong> (<em>string</em>) – Output path for saving plot.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.polish_bool_mask">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">polish_bool_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.polish_bool_mask" title="Permalink to this definition"></a></dt>
<dd><p>Uses binary erosion/fill holes/dilation algorithms to smoothen the mask. Distance limits the number of iteration
possible to avoid merging of regions separated by gaps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mask</strong> (<em>array</em>) – boolean image/mask to polish</p></li>
<li><p><strong>distance</strong> (<em>int</em>) – the maximum pixel distance to fill (Must be lower than minimum gap distance!)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>polished mask</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.print_licence">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">print_licence</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.print_licence" title="Permalink to this definition"></a></dt>
<dd><p>Prints INSIGHT licence file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.print_licence_short">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">print_licence_short</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.print_licence_short" title="Permalink to this definition"></a></dt>
<dd><p>Prints INSIGHT licence file (short version).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.q_to_2theta">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">q_to_2theta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5406</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.q_to_2theta" title="Permalink to this definition"></a></dt>
<dd><p>Converts q-value to 2theta angle for specified wavelength wl.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> (<em>float</em>) – q value in inverse angstrom.</p></li>
<li><p><strong>wl</strong> (<em>float</em>) – wavelength in angstrom. The default is 1.5406 for Cu K alpha X-ray.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>2 theta angle</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>twotheta (float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.q_to_d">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">q_to_d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.q_to_d" title="Permalink to this definition"></a></dt>
<dd><p>Converts q (inverse angstrom) to d spacing (real space, angstrom)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>q</strong> (<em>float</em>) – q-value in inverse angstrom</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>d-spacing in real space in angstrom</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>d (float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.qz_to_afs">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">qz_to_afs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q_z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wl</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.qz_to_afs" title="Permalink to this definition"></a></dt>
<dd><p>Converts qz to alpha_fs (alpha final with respect to substrate). All angles in radians.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.rotate">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">rotate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.rotate" title="Permalink to this definition"></a></dt>
<dd><p>Rotates the image by angle (deg) around direct beam.</p>
<p>Removes hot or like-dead pixel first to avoid smoothing them
constrained to bilinear interpolation to avoid artefacts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>angle</strong> (<em>float</em>) – rotation in degree (clockwise if &gt; 0)</p></li>
<li><p><strong>image</strong> (<em>array</em>) – image data</p></li>
<li><p><strong>db_x</strong> (<em>float</em>) – x value of direct beam</p></li>
<li><p><strong>db_y</strong> (<em>float</em>) – y value of direct beam</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.save_fabio">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">save_fabio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.save_fabio" title="Permalink to this definition"></a></dt>
<dd><p>Saves data to tif file using fabio.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.scherrer_domain_size">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">scherrer_domain_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q_width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instrument_resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.scherrer_domain_size" title="Permalink to this definition"></a></dt>
<dd><p>Calculates a lower limit of crystal domain size using the (Paul) Scherrer equation. This function assumes a
gaussian FWHM input in inverse Angstrom.
You can also provide sigma values for q_width. In this case, please take care about choosing a corrected k-value.</p>
<p>Shape factor for spheric crystals: 0.89</p>
<p>More information can be found, e.g., here:
<a class="reference external" href="http://gisaxs.com/index.php/Scherrer_grain_size_analysis">http://gisaxs.com/index.php/Scherrer_grain_size_analysis</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q_width</strong> (<em>float</em>) – FWHM value of respective Bragg peak, inverse Angstrom</p></li>
<li><p><strong>k</strong> (<em>float</em>) – shape factor for the Scherrer equation (see literature for common values)</p></li>
<li><p><strong>instrument_resolution</strong> (<em>float</em>) – instrument resolution in inverse Angstrom. This will be quadratically subtracted</p></li>
<li><p><strong>0</strong> (<em>(</em><em>assumption</em><em> of </em><em>gaussion profile</em><em>)</em><em>. Default is</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.set_plot_style">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">set_plot_style</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">style</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.set_plot_style" title="Permalink to this definition"></a></dt>
<dd><p>Set a plot style using the style string keyword. The style “insight” is the default value.
To use the default matplotlib-style use “plt_default”. To use your systems default style use “system_default”.</p>
<dl class="simple">
<dt>Available styles are:</dt><dd><p>system_default
plt_default
insight</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.sld_to_ac">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">sld_to_ac</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sld</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wl</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.sld_to_ac" title="Permalink to this definition"></a></dt>
<dd><p>Calculates critical angle from the real part of the SLD.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.smooth">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">smooth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">box_pts</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.smooth" title="Permalink to this definition"></a></dt>
<dd><p>Convolve y values with a moving box of certain width.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y</strong> – the values to convolute</p></li>
<li><p><strong>box_pts</strong> – width of box in points</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>y data convolved with the box</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.sort_natural">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">sort_natural</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alist</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.sort_natural" title="Permalink to this definition"></a></dt>
<dd><p>Sorting by length and then alphabetically (human natural counting)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.sum_images">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">sum_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">abs_path_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sum_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slice_images</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">slice(None,</span> <span class="pre">None,</span> <span class="pre">None)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.sum_images" title="Permalink to this definition"></a></dt>
<dd><p>Sums up images from given paths and saving the result in the same folder as the first image from the list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>abs_path_list</strong> – list of absolute paths to the images to sum</p></li>
<li><p><strong>sum_name</strong> – the desired output filename</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.switch_energy_wavelength">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">switch_energy_wavelength</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_or_wavelength</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.switch_energy_wavelength" title="Permalink to this definition"></a></dt>
<dd><p>Convert energy (keV) into wavelength (Angstrom) or wavelength (Angstrom) to energy (keV)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.truncated_gauss">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">truncated_gauss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_thres</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.truncated_gauss" title="Permalink to this definition"></a></dt>
<dd><p>Creates a truncated gaussian on a larger grid in a fast way.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.twotheta_to_d">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">twotheta_to_d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">twotheta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5406</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.twotheta_to_d" title="Permalink to this definition"></a></dt>
<dd><p>Converts 2theta value to real space distance (angstrom).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>twotheta</strong> (<em>float</em>) – 2 theat in degrees for specified wavelength wl.</p></li>
<li><p><strong>wl</strong> (<em>float</em>) – wavelenghts in angstrom. The default is 1.5406.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>d spacing in angstrom, real space</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>d (float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.twotheta_to_q">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">twotheta_to_q</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">twotheta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5406</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.twotheta_to_q" title="Permalink to this definition"></a></dt>
<dd><p>Convert 2theta value to q-space.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>twotheta</strong> (<em>float</em>) – 2theta angle for specified wavelength.</p></li>
<li><p><strong>wl</strong> (<em>float</em>) – Wavelength in angstrom. The default is 1.5406 for Cu-Kalpha X-rays.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>q-value in inverse angstrom</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>q (float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.valtoval">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">valtoval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array1d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">setval</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.valtoval" title="Permalink to this definition"></a></dt>
<dd><p>Set values above lim to setval.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.zerotonan1d">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">zerotonan1d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array1d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.zerotonan1d" title="Permalink to this definition"></a></dt>
<dd><p>Sets zeroes to np.nan</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.zerotonan2d">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">zerotonan2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array2d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.zerotonan2d" title="Permalink to this definition"></a></dt>
<dd><p>Sets zeroes to np.nan. For 2d arrays.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="insight_scatter.staticfunctions.zerotoval2d">
<span class="sig-prename descclassname"><span class="pre">insight_scatter.staticfunctions.</span></span><span class="sig-name descname"><span class="pre">zerotoval2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array2d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-50</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#insight_scatter.staticfunctions.zerotoval2d" title="Permalink to this definition"></a></dt>
<dd><p>Sets zeroes to value.</p>
</dd></dl>

</section>
<section id="module-insight_scatter">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-insight_scatter" title="Permalink to this heading"></a></h2>
<p>INSIGHT: In Situ GIXS Heuristic Tool</p>
<p>Copyright (c) 2021 Manuel A. Reus, Lennart K. Reb</p>
<p>mail: <a class="reference external" href="mailto:insight&#37;&#52;&#48;ph&#46;tum&#46;de">insight<span>&#64;</span>ph<span>&#46;</span>tum<span>&#46;</span>de</a></p>
<p>This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
any later version.</p>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
<p>For more information see the LICENCE.txt file or &lt;<a class="reference external" href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>&gt;.</p>
<p>This program comes with ABSOLUTELY NO WARRANTY.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="modules.html" class="btn btn-neutral float-left" title="insight_scatter" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="insight_scatter.giwaxs_sim.html" class="btn btn-neutral float-right" title="insight_scatter.giwaxs_sim package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Manuel Reus and Lennart Reb, TU Munich.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>